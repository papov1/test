/* v 3.6
author http://codecanyon.net/user/creativeinteractivemedia/portfolio?ref=creativeinteractivemedia
*/

var FLIPBOOK = FLIPBOOK || {};
! function(x, T, O, a) {
    x.fn.flipBook = function(e) {
        return new FLIPBOOK.Main(e, this)
    }, x.fn.swipeBook = function(e) {
        return e.viewMode = "swipe", new FLIPBOOK.Main(e, this)
    }, x.fn.flipBook.options = {
        name: "",
        pages: [],
        tableOfContent: [],
        tableOfContentCloseOnClick: !0,
        thumbsCloseOnClick: !0,
        deeplinkingEnabled: !1,
        deeplinkingPrefix: "",
        assets: {
            preloader: "images/preloader.jpg",
            overlay: "images/overlay.png",
            flipMp3: "",
            spinner: "images/spinner.gif"
        },
        pdfUrl: null,
        pdfBrowserViewerIfMobile: !1,
        pdfBrowserViewerIfIE: !1,
        pdfBrowserViewerFullscreen: !0,
        pdfBrowserViewerFullscreenTarget: "_blank",
        pdfPageScale: 2,
        htmlLayer: !0,
        rightToLeft: !1,
        startPage: 0,
        sound: !0,
        backgroundColor: "rgb(81, 85, 88)",
        backgroundImage: "",
        backgroundPattern: "",
        backgroundTransparent: !1,
        thumbSize: 130,
        thumbQuality: 1,
        loadAllPages: !1,
        loadPagesF: 2,
        loadPagesB: 1,
        currentPage: {
            enabled: !0,
            title: "Current page"
        },
        btnNext: {
            enabled: !0,
            title: "Next page",
            icon: "fa-angle-right",
            icon2: "navigate_next"
        },
        btnLast: {
            enabled: !1,
            title: "Last page",
            icon: "fa-angle-double-right",
            icon2: "last_page"
        },
        btnPrev: {
            enabled: !0,
            title: "Previous page",
            icon: "fa-angle-left",
            icon2: "navigate_before"
        },
        btnFirst: {
            enabled: !1,
            title: "First page",
            icon: "fa-angle-double-left",
            icon2: "first_page"
        },
        btnZoomIn: {
            enabled: !0,
            title: "Zoom in",
            icon: "fa-plus",
            icon2: "zoom_in"
        },
        btnZoomOut: {
            enabled: !0,
            title: "Zoom out",
            icon: "fa-minus",
            icon2: "zoom_out"
        },
        btnToc: {
            enabled: !0,
            title: "Table of content",
            icon: "fa-list-ol",
            icon2: "toc"
        },
        btnThumbs: {
            enabled: !0,
            title: "Pages",
            icon: "fa-th-large",
            icon2: "view_comfy"
        },
        btnShare: {
            enabled: !0,
            title: "Share",
            icon: "fa-link",
            icon2: "share"
        },
        btnDownloadPages: {
            enabled: !0,
            title: "Download pages",
            icon: "fa-download",
            icon2: "file_download",
            url: "images/pages.zip",
            name: "allPages.zip"
        },
        btnDownloadPdf: {
            forceDownload: !1,
            enabled: !0,
            title: "Download PDF",
            icon: "fa-file",
            icon2: "picture_as_pdf",
            url: null,
            openInNewWindow: !0,
            name: "allPages.pdf"
        },
        btnSound: {
            enabled: !0,
            title: "Volume",
            icon: "fa-volume-up",
            iconAlt: "fa-volume-off",
            icon2: "volume_up"
        },
        btnExpand: {
            enabled: !0,
            title: "Toggle fullscreen",
            icon: "fa-expand",
            icon2: "fullscreen",
            iconAlt: "fa-compress",
            iconAlt2: "fullscreen_exit"
        },
        btnSlideshow: {
            enabled: !1,
            title: "Toggle slideshow",
            icon: "fa-play",
            iconAlt: "fa-pause"
        },
        btnPrint: {
            enabled: !0,
            title: "Print",
            icon: "fa-print",
            icon2: "print"
        },
        btnAutoplay: {
            enabled: !0,
            title: "Autoplay",
            icon: "fa-play",
            iconAlt: "fa-pause"
        },
        btnSearch: {
            enabled: !1,
            title: "Search",
            icon: "fas fa-search",
            icon2: "search"
        },
        btnBookmark: {
            enabled: !1,
            title: "Bookmark",
            icon: "fas fa-bookmark",
            icon2: "fas fa-bookmark"
        },
        btnSelect: {
            enabled: !0,
            title: "Select tool",
            icon: "fas fa-i-cursor"
        },
        autoplayOnStart: !1,
        autoplayInterval: 3e3,
        btnTocIfMobile: !0,
        btnThumbsIfMobile: !0,
        btnShareIfMobile: !1,
        btnDownloadPagesIfMobile: !0,
        btnDownloadPdfIfMobile: !0,
        btnSoundIfMobile: !1,
        btnExpandIfMobile: !0,
        btnPrintIfMobile: !1,
        sideNavigationButtons: !0,
        hideMenu: !1,
        google_plus: {
            enabled: !0,
            url: null
        },
        twitter: {
            enabled: !0,
            url: null,
            description: null
        },
        facebook: {
            enabled: !0,
            load_sdk: !0,
            url: null,
            app_id: null,
            title: null,
            caption: null,
            description: null,
            image: null
        },
        pinterest: {
            enabled: !0,
            url: null,
            image: null,
            description: null
        },
        email: {
            enabled: !0,
            title: null,
            description: null
        },
        pdf: {
            annotationLayer: !1
        },
        pageTextureSize: 2048,
        pageTextureSizeSmall: 1024,
        pageTextureSizeTreshold: 1400,
        viewMode: "webgl",
        singlePageMode: !1,
        singlePageModeIfMobile: !1,
        zoomMin: .85,
        zoomSize: null,
        zoomStep: 2,
        zoomTime: 0,
        wheelDisabledNotFullscreen: !1,
        arrowsDisabledNotFullscreen: !1,
        responsiveView: !0,
        responsiveViewTreshold: 768,
        minPixelRatio: 1,
        skin: "light",
        pageFlipDuration: 1,
        contentOnStart: !1,
        thumbnailsOnStart: !1,
        sideMenuOverBook: !0,
        lightBox: !1,
        lightBoxOpened: !1,
        lightBoxFullscreen: !1,
        lightboxCloseOnClick: !1,
        lightboxResetOnOpen: !0,
        lightboxBackground: null,
        lightboxStartPage: null,
        lightboxMarginV: "0",
        lightboxMarginH: "0",
        lightboxCSS: "",
        lightboxPreload: !1,
        disableImageResize: !0,
        pan: 0,
        panMax: 10,
        panMax2: 2,
        panMin: -10,
        panMin2: -2,
        tilt: 0,
        tiltMax: 0,
        tiltMax2: 0,
        tiltMin: -20,
        tiltMin2: -5,
        rotateCameraOnMouseMove: !1,
        rotateCameraOnMouseDrag: !0,
        lights: !0,
        lightColor: 16777215,
        lightPositionX: 0,
        lightPositionZ: 1400,
        lightPositionY: 350,
        lightIntensity: .6,
        shadows: !0,
        shadowMapSize: 1024,
        shadowOpacity: .2,
        shadowDistance: 15,
        pageRoughness: 1,
        pageMetalness: 0,
        pageHardness: 2,
        coverHardness: 2,
        pageSegmentsW: 5,
        pageSegmentsH: 1,
        pageMiddleShadowSize: 2,
        pageMiddleShadowColorL: "#999999",
        pageMiddleShadowColorR: "#777777",
        antialias: !1,
        menuMargin: 0,
        menuPadding: 0,
        menuAlignHorizontal: "center",
        menuShadow: "",
        menuBackground: "",
        menuOverBook: !1,
        btnSize: 16,
        btnRadius: 4,
        btnMargin: 4,
        btnPaddingV: 10,
        btnPaddingH: 10,
        btnShadow: "",
        btnTextShadow: "",
        btnBorder: "",
        btnColor: "",
        btnColorHover: "",
        btnBackground: "",
        btnBackgroundHover: "",
        sideBtnSize: 30,
        sideBtnRadius: 0,
        sideBtnMargin: 0,
        sideBtnPaddingV: 5,
        sideBtnPaddingH: 5,
        sideBtnShadow: "",
        sideBtnTextShadow: "",
        sideBtnBorder: "",
        sideBtnColor: "#FFF",
        sideBtnBackground: "rgba(0,0,0,.3)",
        currentPagePositionV: "top",
        currentPagePositionH: "left",
        currentPageMarginV: 5,
        currentPageMarginH: 5,
        closeBtnSize: 20,
        closeBtnRadius: 0,
        closeBtnMargin: 0,
        closeBtnPadding: 10,
        closeBtnTextShadow: "",
        closeBtnColor: "#FFF",
        closeBtnBackground: "rgba(0,0,0,.3)",
        closeBtnBorder: "",
        preloaderText: "",
        fillPreloader: {
            enabled: !1,
            imgEmpty: "images/logo_light.png",
            imgFull: "images/logo_dark.png"
        },
        logoImg: "",
        logoUrl: "",
        logoCSS: "position:absolute;",
        logoHideOnMobile: !1,
        printMenu: !0,
        downloadMenu: !0,
        backCover: !0,
        textLayer: !1,
        googleAnalyticsTrackingCode: null,
        strings: {
            print: "Print",
            printLeftPage: "Print left page",
            printRightPage: "Print right page",
            printCurrentPage: "Print current page",
            printAllPages: "Print all pages",
            download: "Download",
            downloadLeftPage: "Download left page",
            downloadRightPage: "Download right page",
            downloadCurrentPage: "Download current page",
            downloadAllPages: "Download all pages",
            bookmarks: "Bookmarks",
            bookmarkLeftPage: "Bookmark left page",
            bookmarkRightPage: "Bookmark right page",
            bookmarkCurrentPage: "Bookmark current page",
            search: "Search",
            findInDocument: "Find in document",
            pagesFoundContaining: "pages found containing",
            thumbnails: "Thumbnails",
            tableOfContent: "Table of content",
            share: "Share",
            pressEscToClose: "Press ESC to close"
        },
        mobile: {}
    }, FLIPBOOK.Main = function(e, t) {
        var o = this;
        this.elem = t, this.$elem = x(t), this.$body = x("body"), this.body = this.$body[0], this.$window = x(T), this.bodyHasVerticalScrollbar = function() {
            return o.body.scrollHeight > T.innerHeight
        }, this.isZoomed = function() {
            return 1 < o.zoom
        }, this.options = {};
        this.model = {
            _events: {},
            on: function(e, t) {
                this._events[e] || (this._events[e] = []), this._events[e].push(t)
            },
            off: function(e, t) {
                if (this._events[e]) {
                    var o = this._events[e].indexOf(t); - 1 < o && this._events[e].splice(o, 1)
                }
            },
            trigger: function(e) {
                if (this._events[e]) {
                    var t = 0,
                        o = this._events[e].length;
                    if (o)
                        for (; t < o; t++) this._events[e][t].apply(this, [].slice.call(arguments, 1))
                }
            }
        };
        var n, s, a, r, l, p, d, c, h, u = O.createElement("div").style,
            g = function() {
                for (var e = "t,webkitT,MozT,msT,OT".split(","), t = 0, o = e.length; t < o; t++)
                    if (e[t] + "ransform" in u) return e[t].substr(0, e[t].length - 1);
                return !1
            }(),
            f = /android/gi.test(navigator.appVersion),
            b = /iphone|ipad/gi.test(navigator.appVersion),
            m = (n = "perspective", ("" === g ? n : (n = n.charAt(0).toUpperCase() + n.substr(1), g + n)) in u);
        if (this.msie = T.navigator.userAgent.indexOf("MSIE "), o.isAndroid = f, o.has3d = m, o.hasWebGl = function(e) {
                if (T.WebGLRenderingContext) {
                    for (var t = O.createElement("canvas"), o = ["webgl", "experimental-webgl", "moz-webgl", "webkit-3d"], i = !1, n = 0; n < 4; n++) try {
                        if ((i = t.getContext(o[n])) && "function" == typeof i.getParameter) return !e || {
                            name: o[n],
                            gl: i
                        }
                    } catch (e) {}
                    return !1
                }
                return !1
            }(), 0 < function() {
                var e = -1;
                if ("Microsoft Internet Explorer" == navigator.appName) {
                    var t = navigator.userAgent;
                    null != new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t) && (e = parseFloat(RegExp.$1))
                } else "Netscape" == navigator.appName && (t = navigator.userAgent, null != new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t) && (e = parseFloat(RegExp.$1)));
                return e
            }() && (o.hasWebGl = !1, o.options.isIE = !0), o.thumbsShowing = !1, o.tocShowing = !1, o.menuShowing = !0, o.fullscreenActive = !1, o.model.on("toolSelect", function() {
                o.bookLayer.removeClass("flipbook-move"), o.btnSelect && o.btnSelect.addClass("flipbook-btn-active")
            }), o.model.on("toolMove", function() {
                o.bookLayer.addClass("flipbook-move"), o.btnSelect && o.btnSelect.removeClass("flipbook-btn-active")
            }), o.options = x.extend({}, x.fn.flipBook.options, e), o.options.isMobile = x.browser.mobile || b || f, o.options.isMobile)
            for (var k in o.options.mobile) o.options[k] = o.options.mobile[k];
        if (this.strings = this.options.strings, o.options.pageShininess = o.options.pageShininess / 2, o.s = 0, this.options.googleAnalyticsTrackingCode && (this.gaCode = this.options.googleAnalyticsTrackingCode, T.ga || (a = O, r = "script", l = "ga", (s = T).GoogleAnalyticsObject = l, s.ga = s.ga || function() {
                (s.ga.q = s.ga.q || []).push(arguments)
            }, s.ga.l = 1 * new Date, p = a.createElement(r), d = a.getElementsByTagName(r)[0], p.async = 1, p.src = "https://www.google-analytics.com/analytics.js", d.parentNode.insertBefore(p, d)), ga("create", this.gaCode, "auto")), x("head").append("<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />"), o.options.isMobile && (o.options.singlePageMode = !!o.options.singlePageModeIfMobile || o.options.singlePageMode, o.options.viewModeMobile && (o.options.viewMode = o.options.viewModeMobile), o.options.pageTextureSizeMobile && (o.options.pageTextureSize = o.options.pageTextureSizeMobile)), "3dSinglePage" == o.options.viewMode && (o.options.singlePageMode = !0), "2dSinglePage" == o.options.viewMode && (o.options.singlePageMode = !0, o.options.viewMode = "2d"), o.options.singlePageMode && "2d" != o.options.viewMode && "swipe" != o.options.viewMode && (o.options.viewMode = "3d"), this.options.singlePageMode && "3d" == o.options.viewMode && (o.options.rightToLeft = !1), "webgl" == o.options.viewMode && (!o.hasWebGl || parseFloat(!!(h = (c = (c || navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/)) && h[1]) < 4.4 && o.isAndroid) && (o.options.viewMode = "3d"), "3d" != o.options.viewMode || o.has3d || (o.options.viewMode = "2d"), o.webgl = "webgl" == o.options.viewMode, o.options.isMobile && e.pdfBrowserViewerIfMobile && o.options.pdfUrl) o.options.lightBox && !o.options.lightBoxOpened ? o.$elem.on("touched click", function() {
            P()
        }).css("cursor", "pointer") : P();
        else if (o.options.isIE && e.pdfBrowserViewerIfIE && o.options.pdfUrl) o.options.lightBox && !o.options.lightBoxOpened ? o.$elem.on("touched click", function() {
            P()
        }).css("cursor", "pointer") : P();
        else {
            o.options.pdfMode = Boolean(o.options.pdfUrl && "" != o.options.pdfUrl);
            var w = o.options.zoomLevels;
            if (w) {
                for ("string" == typeof w && (w = w.split(",")), i = 0; i < w.length; i++) w[i] = Number(w[i]);
                o.options.zoomLevels = w, o.options.zoomMin = w[0]
            }
            if (o.options.backgroundTransparent && (o.options.backgroundColor = "none"), o.options.deeplinking || (o.options.deeplinking = {
                    enabled: o.options.deeplinkingEnabled,
                    prefix: o.options.deeplinkingPrefix
                }), o.wrapper = x(O.createElement("div")).addClass("flipbook-main-wrapper"), "" != o.options.backgroundColor && o.wrapper.css("background", o.options.backgroundColor), "" != o.options.backgroundPattern && o.wrapper.css("background", "url(" + o.options.backgroundPattern + ") repeat"), "" != o.options.backgroundImage && (o.wrapper.css("background", "url(" + o.options.backgroundImage + ") no-repeat"), o.wrapper.css("background-size", "cover")), o.bookLayer = x(O.createElement("div")).addClass("flipbook-bookLayer").appendTo(o.wrapper), o.options.hideMenu && (o.bookLayer.css("bottom", "0"), o.options.menuOverBook = !0), o.book = x(O.createElement("div")).addClass("book").appendTo(o.bookLayer), this.options.preloader ? this.preloader = this.options.preloader : this.preloader = x('<div class="cssload-container"><div class="cssload-speeding-wheel"/><div class="flipbook-loading-text">' + this.options.preloaderText + '</div><div class="flipbook-loading-bg"></div></div>'), this.setLoadingProgress(0), o.options.deeplinking.enabled && (void 0 === o.options.deeplinking.prefix && (o.options.deeplinking.prefix = ""), x(T).bind("hashchange", function(e) {
                    if (o.Book && o.Book.enabled) {
                        var t = o.getPageFromHash();
                        0 <= (t = o.options.rightToLeft ? o.options.pages.length - t + 1 : t) && o.Book.goToPage(t, !0)
                    }
                }), this.options.startPage <= 2)) {
                var v = this.getPageFromHash();
                1 < v && (this.options.lightBoxOpened = !0), this.options.startPage = v
            }
            this.options.startPage = this.options.singlePageMode ? this.options.startPage - 1 : this.options.startPage, (this.options.main = this).options.lightBox ? (this.lightbox = new FLIPBOOK.Lightbox(this, this.wrapper, this.options), this.lightboxStartedTimes = 0, this.wrapper.css("background", "none"), this.bookLayer.css("background", "none"), this.book.css("background", "none"), this.preloader.appendTo(this.$body).css("position", "fixed"), this.$elem.css("cursor", "pointer").bind("tap click", function(e) {
                o.started ? (o.lightboxStart(), o.options.lightBoxFullscreen && setTimeout(function() {
                    o.toggleExpand()
                }, 0)) : (S(), o.options.lightBoxFullscreen && setTimeout(function() {
                    o.toggleExpand()
                }, 100))
            }), this.options.lightBoxOpened ? (S(), x(this).trigger("lightboxLoadingStarted")) : this.options.lightboxPreload && ("undefined" != typeof IScroll || FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc] || o.loadScript(FLIPBOOK.iscrollSrc, function() {}), o.options.pdfMode && ("undefined" != typeof PDFJS || FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc] || o.loadScript(FLIPBOOK.pdfjsSrc, function() {}), void 0 !== FLIPBOOK.PdfService || FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc] || o.loadScript(FLIPBOOK.pdfServiceSrc, function() {}), o.options.btnSearch.enabled && (FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc] || o.loadScript(FLIPBOOK.markSrc, function() {}))), "webgl" == o.options.viewMode && ("undefined" != typeof THREE || FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc] || o.loadScript(FLIPBOOK.threejsSrc, function() {}))), this.fullscreenElement = O.documentElement) : (this.preloader.appendTo(this.wrapper), this.wrapper.appendTo(this.$elem), this.fullscreenElement = this.$elem[0], S())
        }

        function P() {
            o.options.pdfBrowserViewerFullscreen ? T.open(o.options.pdfUrl, o.options.pdfBrowserViewerFullscreenTarget) : x('<object type="application/pdf"/>').width("100%").height("100%").attr("data", o.options.pdfUrl).appendTo(o.$elem)
        }

        function S() {
            if (o.options.fillPreloader.enabled) {
                o.$fillPreloader = x("<div>").addClass("flipbook-fillPreloader");
                var t = new Image;
                t.src = o.options.fillPreloader.imgEmpty, t.onload = function() {
                    var e = new Image;
                    e.src = o.options.fillPreloader.imgFull, e.onload = function() {
                        x(t).appendTo(o.$fillPreloader), o.$fillPreloaderImg = x(e).appendTo(o.$fillPreloader), o.$fillPreloader.appendTo(o.wrapper), B()
                    }
                }
            } else B()
        }

        function B() {
            o.options.pdfMode ? o.initPdf(o.options.btnSearch.enabled) : (o.options.btnSearch.enabled = !1, o.initJpg()), o.setLoadingProgress(.1)
        }
    }, FLIPBOOK.Main.prototype = {
        start: function() {
            this.options.dp && (this.options.doublePage = !0, this.options.pageMode = "doubleWithCover"), this.started || (this.model.pageW = this.options.pageWidth, this.model.bookW = 2 * this.options.pageWidth, this.model.pageH = this.options.pageHeight, this.model.bookH = this.options.pageHeight, this.options.numPages % 2 == 0 ? this.options.numSheets = (this.options.numPages + 2) / 2 : this.options.numSheets = (this.options.numPages + 1) / 2, this.started = !0, this.options.lightBox && (this.lightbox.openLightbox(), this.lightboxStart()), this.createBook())
        },
        lightboxStart: function() {
            var e = this;
            this.started || this.start(), void 0 !== this.Book ? (this.Book.enable(), this.options.contentOnStart && this.toggleToc(!0), this.options.thumbnailsOnStart && this.toggleThumbs(!0), this.options.lightboxStartPage && this.Book.goToPage(this.options.lightboxStartPage, !0), this.lightboxStartedTimes++, this.gaCode && ga("send", {
                hitType: "event",
                eventCategory: "Flipbook : " + this.options.name,
                eventAction: "lightbox open",
                eventLabel: "lightbox open",
                eventValue: this.lightboxStartedTimes,
                nonInteraction: !0
            }), this.updateCurrentPage(), this.initColors(), this.resize(), x(this).trigger("lightboxOpened")) : setTimeout(function() {
                e.lightboxStart()
            }, 100)
        },
        setHash: function(e) {
            e < 1 && (e = 1), this.options.deeplinking.enabled && this.Book.enabled && (T.location.hash = "#" + this.options.deeplinking.prefix + String(e))
        },
        clearHash: function() {
            this.options.deeplinking.enabled && (T.location.hash = "")
        },
        getPageFromHash: function() {
            var e = parseInt(T.location.hash.replace(/#/g, "").replace(this.options.deeplinking.prefix, ""));
            return isNaN(e) && (e = 0), e
        },
        initColors: function() {
            this.wrapper.find(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-" + this.options.skin), this.wrapper.find(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-" + this.options.skin)
        },
        lightboxEnd: function() {
            screenfull.exit(), T.location.hash && this.clearHash(), this.setLoadingProgress(1), this.Book.disable()
        },
        turnPageComplete: function() {
            this.animating = !1, this.updateCurrentPage();
            var e = this.Book.rightIndex || 0;
            this.options.rightToLeft && (e = this.options.pages.length - e), this.pdfService && this.pdfService.setRightIndex(e)
        },
        updateCurrentPage: function() {
            if (void 0 !== this.currentPage) {
                var e, t = this.options.rightToLeft,
                    o = this.options.numPages,
                    i = this.Book.rightIndex || 0;
                t && (i = this.options.pages.length - i), this.options.singlePageMode || this.Book.singlePage ? (e = i + 1, this.currentPageNumber = i, this.setHash(i + 1), this.cPage = [i]) : (o < i || i == o && o % 2 == 0 ? (e = o, this.cPage = [o - 1]) : i < 1 ? (e = 1, this.cPage = [0]) : (e = String(i) + "-" + String(i + 1), this.cPage = [i - 1, i]), this.setHash(i)), t ? (this.enableNext(0 < i), this.enablePrev(i < o - 1)) : (this.enablePrev(0 < i), this.enableNext(i < o - 1)), 2 == this.cPage.length ? (this.wrapper.find(".c-l-p").show(), this.wrapper.find(".c-r-p").show(), this.wrapper.find(".c-p").hide()) : (this.wrapper.find(".c-l-p").hide(), this.wrapper.find(".c-r-p").hide(), this.wrapper.find(".c-p").show()), this.s && 0 < this.options.pdfPageScale && this.Book.goToPage(0), e != this.currentPageValue && (this.currentPageValue = String(e), this.currentPage.text(e + " / " + String(o)), x(this).trigger({
                    type: "pagechange",
                    page: this.currentPageValue,
                    name: this.options.name
                }))
            }
        },
        initJpg: function() {
            var n = this;
            1 == this.options.numPages && (this.options.viewMode = "3d", this.webgl = !1), this.loadPage(0, this.options.pageTextureSize, function() {
                n.setLoadingProgress(.5), n.loadPage(1, n.options.pageTextureSize, function() {
                    var e = n.options.pages[0].img,
                        t = n.options.pages[1].img,
                        o = e.width / e.height,
                        i = t.width / t.height;
                    n.options.pw = e.width, n.options.ph = e.height, n.options.pageWidth = e.width, n.options.pageHeight = e.height, n.options.pageMode = 1.5 < i / o ? "doubleWithCover" : "singlePage", n.options.doublePage = 1.5 < i / o, n.options.zoomSize = n.options.zoomSize || e.height, n.setLoadingProgress(.7), n.start()
                })
            })
        },
        initPdf: function(e) {
            if (!this.started) {
                ("swipe" == this.options.viewMode || this.options.btnSearch.enabled) && (this.options.textLayer = !0);
                var s = this;
                if ("undefined" == typeof PDFJS) {
                    if (!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfjsSrc]) return void s.loadScript(FLIPBOOK.pdfjsSrc, function() {
                        s.initPdf(e)
                    });
                    if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfjsSrc]) return void setTimeout(function() {
                        s.initPdf(e)
                    }, 100)
                }
                if (this.setLoadingProgress(.2), void 0 === FLIPBOOK.PdfService) {
                    if (!FLIPBOOK.scriptsAdded[FLIPBOOK.pdfServiceSrc]) return void s.loadScript(FLIPBOOK.pdfServiceSrc, function() {
                        s.initPdf(e)
                    });
                    if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfServiceSrc]) return void setTimeout(function() {
                        s.initPdf(e)
                    }, 100)
                }
                this.setLoadingProgress(.3), T.CanvasPixelArray && (CanvasPixelArray.prototype.set = function(e) {
                    for (var t = this.length, o = 0; o < t; o++) this[o] = e[o]
                }), PDFJS = pdfjsLib, PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK, PDFJS.workerSrc = this.options.pdfjsworkerSrc || FLIPBOOK.pdfjsworkerSrc, PDFJS.disableAutoFetch = !0, PDFJS.disableStream = !0, PDFJS.cMapUrl = "cmaps/", PDFJS.cMapPacked = !0, "https:" == location.protocol && (s.options.pdfUrl = s.options.pdfUrl.replace("http://", "https://")), PDFJS.getDocument({
                    url: s.options.pdfUrl,
                    rangeChunkSize: 524288
                }).then(function(n) {
                    1 == (s.pdfDocument = n)._pdfInfo.numPages && (s.options.viewMode = "3d", s.webgl = !1), s.pdfService = new FLIPBOOK.PdfService(n, s.model, s.options), s.pdfService.on("pageLoaded", function(e) {
                        s.options.pages[e.index] = s.options.pages[e.index] || {}, s.options.pages[e.index].canvas = s.options.pages[e.index].canvas || {}, s.options.pages[e.index].canvas[e.size] = e.canvas, s.Book && s.Book.onPageLoaded && s.Book.onPageLoaded(e.index, e.size), s.searchingString && s.mark(s.searchingString)
                    }), s.pdfService.on("pageUnloaded", function(e) {
                        e.unloadedPages.forEach(function(e) {
                            s.Book.onPageUnloaded && s.Book.onPageUnloaded(e.index, e.size)
                        })
                    }), s.options.thumbLoaded = function(e) {
                        s.options.thumbs = s.options.thumbs || [], s.options.thumbs[e.index] = e
                    }, s.setLoadingProgress(.5);
                    var e = !s.options.tableOfContent || 0 == s.options.tableOfContent.length;
                    s.pdfService.on("init", function() {
                        s.options.tableOfContent = this.outline || s.options.tableOfContent, s.options.pageMode = this.double ? "doubleWithCover" : "singlePage", s.options.doublePage = this.double, s.viewportOriginal = this.viewports[0], s.options.firstPage = {
                            width: this.viewports[0].width,
                            height: this.viewports[0].height,
                            ratio: this.viewports[0].width / this.viewports[0].height
                        }, 1 < n._pdfInfo.numPages && (s.options.secondPage = {
                            width: this.viewports[1].width,
                            height: this.viewports[1].height,
                            ratio: this.viewports[1].width / this.viewports[1].height
                        }), s.options.numPages = n._pdfInfo.numPages;
                        for (var e = [], t = 0; t < s.options.numPages; t++) {
                            var o = {
                                canvas: {}
                            };
                            s.options.pages && s.options.pages[t] ? x.extend(o, s.options.pages[t]) : o.title = t + 1, e[t] = o
                        }
                        s.options.pages = e;
                        s.book.height();
                        var i = s.options.pageTextureSize;
                        s.options.pageWidth = parseInt(i * s.viewportOriginal.width / s.viewportOriginal.height), s.options.pageHeight = i, s.options.pw = s.options.pageWidth, s.options.ph = s.options.pageHeight, s.options.zoomSize = s.options.zoomSize || s.options.pageTextureSize, s.start()
                    }), s.pdfService.init(function() {}, e)
                })
            }
        },
        loadPage: function(e, t, o) {
            var i = this;
            if (this.options.pdfMode) this.loadPageFromPdf(e, t, o);
            else {
                i = this;
                var n = this.options.pages[e];
                n.img ? n.imgLoaded ? i.pageLoaded({
                    index: e,
                    size: t,
                    image: n.img,
                    htmlContent: n.htmlContentDiv
                }, o) : setTimeout(function() {
                    i.loadPage(e, t, o)
                }, 300) : (n.img = O.createElement("img"), n.img.setAttribute("id", e), n.img.onload = function() {
                    n.imgLoaded = !0, n.htmlContent && (n.htmlContentDiv = x(O.createElement("div")).addClass("flipbook-page-htmlContent").append(x(n.htmlContent))), i.pageLoaded({
                        index: e,
                        size: t,
                        image: n.img,
                        htmlContent: n.htmlContentDiv
                    }, o)
                }, "webgl" == this.options.viewMode && (n.img.crossOrigin = "Anonymous"), "https:" == location.protocol && (n.src = n.src.replace("http://", "https://")), n.img.src = n.src)
            }
        },
        pageLoaded: function(e, t) {
            t.call(this, e, t), this.options.loadAllPages && e.index < this.options.numPages - 1 && this.loadPage(e.index + 1, e.size, function() {})
        },
        loadPageFromPdf: function(e, t, o) {
            var i = this.options.doublePage ? Math.round(e / 2) : e;
            t = t || this.options.pageTextureSize, this.options.pages[e] ? this.pdfService.renderPageFromPdf(i, t, o) : o.call(this)
        },
        loadThumbsFromPdf: function(e) {
            for (var t = this.pdfDocument._pdfInfo.numPages, o = 0; o < t; o++) {
                var i = O.createElement("canvas");
                e[o].thumbCanvas = i
            }
            this.loadThumbFromPdf(0, e)
        },
        loadThumbFromPdf: function(e, r) {
            var l = this;
            this.pdfDocument.getPage(e + 1).then(function(e) {
                var t = e.getViewport(1),
                    o = l.options.thumbQuality * l.options.thumbSize / t.height,
                    i = e.getViewport(o),
                    n = r[e.pageIndex].thumbCanvas,
                    s = n.getContext("2d");
                n.height = i.height, n.width = i.width;
                var a = {
                    canvasContext: s,
                    viewport: i
                };
                e.cleanupAfterRender = !0, e.render(a).then(function() {
                    e.cleanup(), e.pageIndex + 1 < l.pdfDocument._pdfInfo.numPages && l.loadThumbFromPdf(e.pageIndex + 1, r)
                }), l.thumbScroll.refresh()
            })
        },
        getString: function(e) {
            return this.options.strings[e]
        },
        findInDocument: function(e) {
            if (this.hideAllThumbs(), this.$findInfo.hide(), this.pagesFound = 0, this.$findInfo.show().text("0 " + this.strings.pagesFoundContaining + ' "' + e + '"'), this.pdfService)
                for (var t = 0; t < this.pdfService.pdfInfo.numPages; t++) this.findInPage(e, t);
            this.mark(e), this.searchingString = e
        },
        findInPage: function(t, o) {
            var i = this;
            this.pdfService.findInPage(t, o, function(e) {
                0 < e && (i.showThumb(o), i.pagesFound++, i.$findInfo.show().text(i.pagesFound + " " + i.strings.pagesFoundContaining + ' "' + t + '"'))
            })
        },
        mark: function(e) {
            for (var t = 0; t < this.options.pages.length; t++) {
                var o = this.options.pages[t].htmlContent;
                x(o).unmark({
                    done: function() {
                        x(o).mark(e)
                    }
                })
            }
        },
        unmark: function() {
            this.searchingString = null;
            for (var e = 0; e < this.options.pages.length; e++) {
                var t = this.options.pages[e].htmlContent;
                x(t).unmark({})
            }
        },
        setTool: function(e) {
            this.tool = e, this.model.trigger(e)
        },
        toggleTool: function() {
            var e = "toolSelect" == this.tool ? "toolMove" : "toolSelect";
            this.setTool(e)
        },
        scrollPageIntoView: function(e) {
            var t = this.options.rightToLeft ? this.options.pages.length - e.pageNumber + 1 : e.pageNumber;
            this.Book.goToPage(t)
        },
        goToPage: function(e) {
            this.Book.goToPage(e)
        },
        loadScript: function(o, i) {
            var n = this,
                s = O.createElement("script"),
                e = O.getElementsByTagName("script")[0];
            s.async = 1, e.parentNode.insertBefore(s, e), FLIPBOOK.scriptsAdded[o] = !0, s.onload = s.onreadystatechange = function(e, t) {
                (t || !s.readyState || /loaded|complete/.test(s.readyState)) && (s.onload = s.onreadystatechange = null, s = a, t || i && i.call(n), FLIPBOOK.scriptsLoaded[o] = !0)
            }, s.src = o
        },
        createBook: function() {
            var n = this,
                e = this.model,
                t = this.options;
            if ("undefined" == typeof IScroll) {
                if (!FLIPBOOK.scriptsAdded[FLIPBOOK.iscrollSrc]) return void n.loadScript(FLIPBOOK.iscrollSrc, n.createBook);
                if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.iscrollSrc]) return void setTimeout(function() {
                    n.createBook()
                }, 100)
            }
            if (this.options.btnSearch.enabled) {
                if (!FLIPBOOK.scriptsAdded[FLIPBOOK.markSrc]) return void n.loadScript(FLIPBOOK.markSrc, n.createBook);
                if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.markSrc]) return void setTimeout(function() {
                    n.createBook()
                }, 100)
            }
            if (n.setLoadingProgress(.9), "webgl" == n.options.viewMode) {
                if ("undefined" == typeof THREE) {
                    if (!FLIPBOOK.scriptsAdded[FLIPBOOK.threejsSrc]) return void n.loadScript(FLIPBOOK.threejsSrc, n.createBook);
                    if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.threejsSrc]) return void setTimeout(function() {
                        n.createBook()
                    }, 100)
                }
                if (void 0 === FLIPBOOK.BookWebGL) {
                    if (!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookWebGlSrc]) return void n.loadScript(FLIPBOOK.flipbookWebGlSrc, n.createBook);
                    if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookWebGlSrc]) return void setTimeout(function() {
                        n.createBook()
                    }, 100)
                }
            } else if ("swipe" == n.options.viewMode) {
                if (void 0 === FLIPBOOK.BookSwipe) {
                    if (!FLIPBOOK.scriptsAdded[FLIPBOOK.flipBookSwipeSrc]) return void n.loadScript(FLIPBOOK.flipBookSwipeSrc, n.createBook);
                    if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipBookSwipeSrc]) return void setTimeout(function() {
                        n.createBook()
                    }, 100)
                }
            } else if ("simple" == n.options.viewMode) {
                if (void 0 === FLIPBOOK.BookSimple) {
                    if (!FLIPBOOK.scriptsAdded[FLIPBOOK.flipBookSimpleSrc]) return void n.loadScript(FLIPBOOK.flipBookSimpleSrc, n.createBook);
                    if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipBookSimpleSrc]) return void setTimeout(function() {
                        n.createBook()
                    }, 100)
                }
            } else if (void 0 === FLIPBOOK.Book3) {
                if (!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookBook3Src]) return void n.loadScript(FLIPBOOK.flipbookBook3Src, n.createBook);
                if (!FLIPBOOK.scriptsAdded[FLIPBOOK.flipbookBook3Src]) return void setTimeout(function() {
                    n.createBook()
                }, 100)
            }
            if (this.setLoadingProgress(1), this.initEasing(), "doubleWithCover" == n.options.pageMode && 2 < n.options.pages.length) {
                for (var o = [n.options.pages[0]], i = 1; i <= n.options.pages.length - 2; i++) {
                    var s = n.options.pages[i],
                        a = {
                            src: s.src,
                            thumb: s.thumb,
                            title: s.title,
                            htmlContent: s.htmlContent,
                            side: "left"
                        },
                        r = {
                            src: s.src,
                            thumb: s.thumb,
                            title: s.title,
                            htmlContent: s.htmlContent,
                            side: "right"
                        };
                    o.push(a), o.push(r)
                }
                o.push(n.options.pages[n.options.pages.length - 1]), n.options.pages = o
            }
            if (this.options.numPages = this.options.pages.length, this.options.numPages % 2 == 0 || this.options.singlePageMode || (this.oddPages = !0, this.options.oddPages = !0, this.options.pages.push({
                    src: this.options.assets.preloader,
                    thumb: ""
                })), 0 < n.options.pages.length)
                for (i = 0; i < n.options.pages.length; i++) void 0 !== n.options.pages[i].htmlContent && (n.options.hasHtmlContent = !0, n.options.pages[i].htmlContent = x(n.options.pages[i].htmlContent));

            function l() {
                n.flipsound = O.createElement("audio"), n.flipsound.setAttribute("src", n.options.assets.flipMp3), n.flipsound.setAttribute("type", "audio/mpeg")
            }
            if ("webgl" == n.options.viewMode) {
                var p = n.options;
                p.scroll = n.scroll, (p.parent = n).Book = new FLIPBOOK.BookWebGL(n.book[0], e, p), n.webglMode = !0, n.initSwipe(), l()
            } else "swipe" == n.options.viewMode ? (n.Book = new FLIPBOOK.BookSwipe(n.book[0], n.bookLayer[0], e, t), n.initSwipe()) : "simple" == n.options.viewMode ? n.Book = new FLIPBOOK.BookSimple(n.book[0], n.bookLayer[0], e, t) : ("2d" != n.options.viewMode && (n.options.viewMode = "3d"), n.Book = new FLIPBOOK.Book3(n.book[0], e, t), n.initSwipe(), n.webglMode = !1, l());
            n.Book.enable(), n.book.hide().fadeIn("slow"), this.createToc(this.options.tableOfContent), this.thumbsCreated = !1, this.createMenu(), this.createCurrentPage(), this.options.currentPage.enabled || this.currentPageHolder.hide(), 1 == this.options.pages.length && (this.rightToLeft = !1, this.deeplinking = {
                enabled: !1
            });
            var d = x(n.Book);
            d.bind("loadPagesFromPdf", function(e, t, o, i) {
                n.loadPagesFromPdf(t, o, i)
            }), d.bind("turnPageComplete", function(e) {
                n.turnPageComplete()
            }), d.bind("initEasing", function(e) {
                n.initEasing()
            }), d.bind("playFlipSound", function(e) {
                n.playFlipSound()
            }), d.bind("closeLightbox", function(e) {
                n.closeLightbox()
            }), d.bind("updateCurrentPage", function(e) {
                n.updateCurrentPage()
            }), this.createLogo(), this.onBookCreated()
        },
        onBookCreated: function() {
            var e = this.options,
                t = this;
            x(T).resize(function() {
                t.resize()
            }), e.rightToLeft ? t.Book.goToPage(Number(e.pages.length - Number(e.startPage) + 1), !0) : t.Book.goToPage(Number(e.startPage), !0), this.updateCurrentPage(), O.addEventListener("keydown", function(e) {
                if (t.Book.enabled && (t.options.lightBox || t.fullscreenActive || !t.options.arrowsDisabledNotFullscreen && !t.bodyHasVerticalScrollbar())) {
                    switch ((e = e || T.event).keyCode) {
                        case 37:
                            t.Book.prevPage();
                            break;
                        case 38:
                            t.zoomIn();
                            break;
                        case 39:
                            t.Book.nextPage();
                            break;
                        case 40:
                            t.zoomOut()
                    }
                    return !1
                }
            }), O.addEventListener("MSFullscreenChange", function(e) {
                t.handleFsChange()
            }), O.addEventListener("mozfullscreenchange", function(e) {
                t.handleFsChange()
            }), O.addEventListener("webkitfullscreenchange", function(e) {
                t.handleFsChange()
            }), O.addEventListener("fullscreenchange", function(e) {
                t.handleFsChange()
            }), this.zoom = e.zoomMin, this.bookLayer.bind("DOMMouseScroll", function(e) {
                if (t.Book.enabled && (t.options.lightBox || t.fullscreenActive || !t.options.wheelDisabledNotFullscreen && !t.bodyHasVerticalScrollbar())) return e.stopPropagation(), e.preventDefault(), 0 < e.originalEvent.detail ? t.zoomOut(e.originalEvent) : t.zoomIn(e.originalEvent), !1
            }), this.bookLayer.bind("mousewheel", function(e) {
                if (t.Book.enabled && (t.options.lightBox || t.fullscreenActive || !t.options.wheelDisabledNotFullscreen && !t.bodyHasVerticalScrollbar())) return e.stopPropagation(), e.preventDefault(), e.originalEvent.wheelDelta < 0 ? t.zoomOut(e.originalEvent) : t.zoomIn(e.originalEvent), !1
            }), this.setTool("toolMove"), e.contentOnStart && t.toggleToc(!0), e.thumbnailsOnStart && t.toggleThumbs(!0), e.autoplayOnStart && t.toggleAutoplay(!0), t.options.lightBox && t.Book.disable(), t.Book.updateVisiblePages(), t.initColors(), t.resize(), setTimeout(function() {
                t.resize()
            }, 200), setTimeout(function() {
                t.resize()
            }, 600), e.onbookcreated && e.onbookcreated.call(this)
        },
        initSwipe: function() {
            var l = this;
            T.jQuery(this.bookLayer).swipe({
                swipeStatus: function(e, t, o, i, n, s, a) {
                    if ("start" == t) try {
                        l.currentPageInput.trigger("blur")
                    } catch (e) {}
                    if (!l.options.sideNavigationButtons || e.target !== l.arrowL[0] && e.target !== l.arrowR[0])
                        if (("end" == t || "cancel" == t) && n < 200 && i < 10) {
                            if ("toolMove" == l.tool && !l.options.doubleClickZoomDisabled)
                                if (null == l.clickTimer) l.clickTimer = setTimeout(function() {
                                    if (l.clickTimer = null, "touchend" == e.type) e.changedTouches[0].pageX;
                                    else if ("mouseup" == e.type) e.offsetX
                                }, 300);
                                else {
                                    clearTimeout(l.clickTimer), l.clickTimer = null;
                                    var r = l.options.zoomTime;
                                    l.zoom >= l.options.zoomMax ? l.zoomTo(l.options.zoomMin, r, e) : l.zoomTo(l.options.zoomMax, r, e)
                                }
                        } else {
                            if (("up" == o || "down" == o) && "move" == t || 1 < l.zoom || "toolSelect" == l.tool) return;
                            l.Book.onSwipe(e, t, o, i, n, s, a)
                        }
                },
                pinchStatus: function(e, t, o, i, n, s, a) {
                    "start" == t && (l.zoomStart = l.zoom), 1 < s && "move" == t && (e.preventDefault(), e.scale && (a = e.scale), l.zoomTo(l.zoomStart * a, 0, e))
                },
                fingers: 2,
                pinchThreshold: 0,
                allowPageScroll: "vertical",
                preventDefaultEvents: !1
            }), this.swipeEnabled = !0
        },
        toggleMenu: function() {
            this.menuShowing ? (this.menuShowing = !1, this.bookLayer.css("bottom", "0px"), this.menuWrapper.fadeOut(), this.currentPageHolder.fadeOut(), x(".flipbook-nav").fadeOut()) : (this.menuShowing = !0, this.bookLayer.css("bottom", this.menuWrapper.height() + "px"), this.menuWrapper.fadeIn(), this.currentPageHolder.fadeIn(), x(".flipbook-nav").fadeIn()), this.Book.onResize()
        },
        createButton: function(t) {
            var e, o = this.options;
            "material" == o.icons ? (e = x("<i>").appendTo(this.menu).addClass("material-icons flipbook-icon-material flipbook-menu-btn skin-color skin-color-bg").attr("title", t.title).text(t.icon2)).css({
                "border-radius": o.btnRadius + "px",
                "text-shadow": o.btnTextShadow,
                "box-shadow": o.btnShadow,
                border: o.btnBorder,
                color: o.btnColor,
                background: o.btnBackground
            }) : ((e = x(O.createElement("span")).appendTo(this.menu).attr("title", t.title)).$icon = x(O.createElement("span")).appendTo(e).attr("aria-hidden", "true").addClass(t.icon).addClass("flipbook-icon-fa flipbook-menu-btn skin-color skin-color-bg fa").css({
                width: o.btnSize + "px",
                "font-size": o.btnSize + "px",
                "border-radius": o.btnRadius + "px",
                margin: o.btnMargin + "px",
                padding: o.btnPaddingV + "px " + o.btnPaddingH + "px",
                "text-shadow": o.btnTextShadow,
                "box-shadow": o.btnShadow,
                border: o.btnBorder,
                color: o.btnColor,
                background: o.btnBackground
            }), t.iconAlt && (e.$iconAlt = x(O.createElement("span")).appendTo(e).attr("aria-hidden", "true").addClass(t.iconAlt).addClass("flipbook-icon-fa flipbook-menu-btn skin-color skin-color-bg fa").css({
                width: o.btnSize + "px",
                "font-size": o.btnSize + "px",
                "border-radius": o.btnRadius + "px",
                margin: o.btnMargin + "px",
                padding: o.btnPaddingV + "px " + o.btnPaddingH + "px",
                "text-shadow": o.btnTextShadow,
                "box-shadow": o.btnShadow,
                border: o.btnBorder,
                color: o.btnColor,
                background: o.btnBackground
            }).hide()));
            return e.icon = t.icon, e.iconAlt = t.iconAlt, t.onclick && e.bind("tap click", function(e) {
                t.onclick()
            }), (o.btnColorHover || o.btnBackgroundHover || o.btnBorderHover) && e.mouseenter(function() {
                e.css({
                    color: o.btnColorHover,
                    background: o.btnBackgroundHover,
                    border: o.btnBorderHover
                })
            }).mouseleave(function() {
                e.css({
                    color: o.btnColor,
                    background: o.btnBackground,
                    border: o.btnBorder
                })
            }), e
        },
        createMenu: function() {
            var s = this.options,
                a = this;
            if (this.menuWrapper = x(O.createElement("div")).addClass("flipbook-menuWrapper"), this.menuWrapper.appendTo(this.wrapper), s.hideMenu && this.menuWrapper.hide(), "swipe" == s.viewMode && (s.btnSound.enabled = !1), this.menu = x(O.createElement("div")).addClass("flipbook-menu skin-color-bg").appendTo(this.menuWrapper).css({
                    background: s.menuBackground,
                    "box-shadow": s.menuShadow,
                    margin: s.menuMargin + "px",
                    padding: s.menuPadding + "px",
                    "text-align": s.menuAlignHorizontal
                }), s.sideNavigationButtons ? (a.btnNext = x('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-right-arrow fa ' + a.options.btnNext.icon + ' skin-color skin-color-bg"></div></div>').appendTo(a.bookLayer).bind("tap click", function(e) {
                    a.btnNext.disabled || (a.btnNext.disabled = !0, setTimeout(function() {
                        a.btnNext.disabled = !1
                    }, 300), e.stopPropagation(), e.preventDefault(), a.Book.nextPage())
                }), a.arrowR = a.btnNext.find("span"), a.arrowR.css({
                    width: s.sideBtnSize + "px",
                    "font-size": s.sideBtnSize + "px",
                    "border-radius": s.sideBtnRadius + "px",
                    "margin-top": String(-s.sideBtnSize / 2) + "px",
                    "margin-right": s.sideBtnMargin + "px",
                    padding: s.sideBtnPaddingV + "px " + s.sideBtnPaddingH + "px",
                    "text-shadow": s.sideBtnTextShadow,
                    "box-shadow": s.sideBtnShadow,
                    border: s.sideBtnBorder,
                    color: s.sideBtnColor,
                    background: s.sideBtnBackground,
                    "box-sizing": "initial"
                }).attr("title", this.options.btnNext.title), a.btnPrev = x('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-left-arrow fa ' + a.options.btnPrev.icon + ' skin-color skin-color-bg"></div></div>').appendTo(a.bookLayer).bind("tap click", function(e) {
                    a.btnPrev.disabled || (a.btnPrev.disabled = !0, setTimeout(function() {
                        a.btnPrev.disabled = !1
                    }, 300), e.stopPropagation(), e.preventDefault(), a.Book.prevPage())
                }), a.arrowL = a.btnPrev.find("span"), a.arrowL.css({
                    width: s.sideBtnSize + "px",
                    "font-size": s.sideBtnSize + "px",
                    "border-radius": s.sideBtnRadius + "px",
                    "margin-top": String(-s.sideBtnSize / 2) + "px",
                    "margin-left": s.sideBtnMargin + "px",
                    padding: s.sideBtnPaddingV + "px " + s.sideBtnPaddingH + "px",
                    "text-shadow": s.sideBtnTextShadow,
                    "box-shadow": s.sideBtnShadow,
                    border: s.sideBtnBorder,
                    color: s.sideBtnColor,
                    background: s.sideBtnBackground,
                    "box-sizing": "initial"
                }).attr("title", this.options.btnPrev.title), a.options.btnFirst.enabled && (a.btnFirst = x('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-first-arrow fa ' + this.options.btnFirst.icon + ' skin-color skin-color-bg"></div></div>').appendTo(a.bookLayer).bind("tap click", function(e) {
                    a.btnFirst.disabled || (a.btnFirst.disabled = !0, setTimeout(function() {
                        a.btnFirst.disabled = !1
                    }, 300), e.stopPropagation(), e.preventDefault(), a.Book.goToPage(1))
                }), a.btnFirst.find("span").css({
                    width: s.sideBtnSize + "px",
                    "font-size": .66 * s.sideBtnSize + "px",
                    "border-radius": s.sideBtnRadius + "px",
                    "margin-top": String(s.sideBtnSize / 2 + s.sideBtnMargin + 2 * s.sideBtnPaddingV) + "px",
                    "margin-left": s.sideBtnMargin + "px",
                    padding: s.sideBtnPaddingV + "px " + s.sideBtnPaddingH + "px",
                    "text-shadow": s.sideBtnTextShadow,
                    "box-shadow": s.sideBtnShadow,
                    border: s.sideBtnBorder,
                    color: s.sideBtnColor,
                    background: s.sideBtnBackground,
                    "box-sizing": "initial"
                }).attr("title", this.options.btnFirst.title)), a.options.btnLast.enabled && (a.btnLast = x('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-last-arrow fa ' + this.options.btnLast.icon + ' skin-color skin-color-bg"></div></div>').appendTo(a.bookLayer).bind("tap click", function(e) {
                    a.btnLast.disabled || (a.btnLast.disabled = !0, setTimeout(function() {
                        a.btnLast.disabled = !1
                    }, 300), e.stopPropagation(), e.preventDefault(), a.Book.goToPage(a.options.pages.length))
                }), a.btnLast.find("span").css({
                    width: s.sideBtnSize + "px",
                    "font-size": .66 * s.sideBtnSize + "px",
                    "border-radius": s.sideBtnRadius + "px",
                    "margin-top": String(s.sideBtnSize / 2 + s.sideBtnMargin + 2 * s.sideBtnPaddingV) + "px",
                    "margin-right": s.sideBtnMargin + "px",
                    padding: s.sideBtnPaddingV + "px " + s.sideBtnPaddingH + "px",
                    "text-shadow": s.sideBtnTextShadow,
                    "box-shadow": s.sideBtnShadow,
                    border: s.sideBtnBorder,
                    color: s.sideBtnColor,
                    background: s.sideBtnBackground,
                    "box-sizing": "initial"
                }).attr("title", this.options.btnLast.title))) : (s.btnFirst.enabled && (this.btnFirst = this.createButton(s.btnFirst).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.Book.goToPage(1)
                })), s.btnPrev.enabled && (this.btnPrev = this.createButton(s.btnPrev).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.Book.prevPage()
                })), s.btnNext.enabled && (this.btnNext = this.createButton(s.btnNext).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.Book.nextPage()
                })), s.btnLast.enabled && (this.btnLast = this.createButton(s.btnLast).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.Book.goToPage(a.options.pages.length)
                }))), s.btnAutoplay.enabled && (this.btnAutoplay = this.createButton(s.btnAutoplay).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.autoplay || a.Book.nextPage(), a.toggleAutoplay()
                })), s.btnSearch.enabled && (this.btnSearch = this.createButton(s.btnSearch).bind("touchend click", function(e) {
                    a.toggleSearch()
                }), this.createSearch()), s.btnBookmark.enabled && (this.btnBookmark = this.createButton(s.btnBookmark).bind("touchend click", function(e) {
                    a.toggleBookmark()
                }), this.createBookmark()), s.btnZoomIn.enabled && (this.btnZoomIn = this.createButton(s.btnZoomIn).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.zoomIn()
                })), s.btnZoomOut.enabled && (this.btnZoomOut = this.createButton(s.btnZoomOut).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.zoomOut()
                })), this.onZoom(s.zoom), !s.btnToc.enabled || !s.btnTocIfMobile && s.isMobile || (this.btnToc = this.createButton(s.btnToc).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.toggleToc()
                })), !s.btnThumbs.enabled || !s.btnThumbsIfMobile && s.isMobile || (this.btnThumbs = this.createButton(s.btnThumbs).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.toggleThumbs()
                })), !s.btnShare.enabled || !s.btnShareIfMobile && s.isMobile || (this.btnShare = this.createButton(s.btnShare).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.toggleShareMenu()
                })), !s.btnDownloadPages.enabled || !s.btnDownloadPagesIfMobile && s.isMobile || (this.btnDownloadPages = this.createButton(s.btnDownloadPages).bind("touchend click", function(e) {
                    if (a.options.downloadMenu) a.toggleDownloadMenu();
                    else {
                        e.stopPropagation(), e.preventDefault();
                        var t = O.createElement("a");
                        t.href = s.btnDownloadPages.url, t.download = "file.pdf", t.dispatchEvent(new MouseEvent("click"))
                    }
                })), !s.btnPrint.enabled || !s.btnPrintIfMobile && s.isMobile || (this.btnPrint = this.createButton(s.btnPrint).bind("touchend click", function(e) {
                    a.options.printMenu ? a.togglePrintMenu() : (e.stopPropagation(), e.preventDefault(), a.togglePrintWindow())
                })), !s.btnDownloadPdf.enabled || !s.btnDownloadPdfIfMobile && s.isMobile || (this.btnDownloadPdf = this.createButton(s.btnDownloadPdf), s.pdfMode && !s.btnDownloadPdf.url && (s.btnDownloadPdf.url = s.pdfUrl), this.btnDownloadPdf.bind("touchend click", function(e) {
                    if (e.stopPropagation(), e.preventDefault(), s.btnDownloadPdf.forceDownload) {
                        var t = s.btnDownloadPdf.url,
                            o = O.createElement("a");
                        o.href = t;
                        var i = o.href.split("/").pop().split("#")[0].split("?")[0];
                        o.download = i, O.body.appendChild(o), o.click(), O.body.removeChild(o)
                    } else {
                        var n = s.btnDownloadPdf.openInNewWindow || (s.btnDownloadPdf.openInNewWindow, 1) ? "_blank" : "_self";
                        T.open(s.btnDownloadPdf.url, n)
                    }
                    a.gaCode && ga("send", {
                        hitType: "event",
                        eventCategory: "Flipbook : " + a.options.name,
                        eventAction: "download PDF",
                        eventLabel: s.btnDownloadPdf.url,
                        nonInteraction: !0
                    })
                })), s.sound && s.btnSound.enabled && (s.btnSoundIfMobile || !s.isMobile) && (this.btnSound = this.createButton(s.btnSound).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), s.sound ? (s.sound = !1, a.btnSound.find("." + a.btnSound.icon).hide(), a.btnSound.find("." + a.btnSound.iconAlt).show()) : (s.sound = !0, a.btnSound.find("." + a.btnSound.icon).show(), a.btnSound.find("." + a.btnSound.iconAlt).hide())
                })), s.textLayer && s.btnSelect.enabled && (this.btnSelect = this.createButton(s.btnSelect).bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.toggleTool()
                })), !s.btnExpand.enabled || !s.btnExpandIfMobile && s.isMobile || (this.btnExpand = this.createButton(s.btnExpand).addClass("btnExpand").bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.toggleExpand()
                })), s.btnSlideshow.enabled && (this.btnSlideshow = this.createButton(s.btnSlideshow).addClass("btnSlideshow").bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), a.toggleSlideshow()
                })), s.buttons)
                for (var e = 0; e < s.buttons.length; e++) {
                    var t = s.buttons[e];
                    a.createButton(t).index(1)
                }
        },
        handleFsChange: function(e) {
            if (this.Book && this.Book.enabled) {
                var t = x(this.fullscreenElement);
                (O.fullscreenElement || O.webkitFullscreenElement || O.mozFullScreenElement || O.msFullscreenElement) === this.fullscreenElement || this.isFullscreen ? (this.btnExpand.find("." + this.btnExpand.icon).hide(), this.btnExpand.find("." + this.btnExpand.iconAlt).show(), t.addClass("flipbook-browser-fullscreen"), this.fullscreenActive = !0, this.options.onfullscreenenter && this.options.onfullscreenenter.call(this)) : (this.btnExpand.find("." + this.btnExpand.icon).show(), this.btnExpand.find("." + this.btnExpand.iconAlt).hide(), t.removeClass("flipbook-browser-fullscreen"), this.fullscreenActive = !1, this.options.onfullscreenexit && this.options.onfullscreenexit.call(this)), this.triggerResizeOnce()
            }
        },
        createLogo: function() {
            var e = this.options;
            if (e.logoImg && (!e.isMobile || !e.logoHideOnMobile)) {
                var t = x("<img>").attr("src", e.logoImg).attr("style", e.logoCSS).appendTo(this.wrapper);
                "right" == e.logoAlignH && t.css("right", "0"), "bottom" == e.logoAlignV && t.css("bottom", "0"), e.logoUrl && t.bind("touchend click", function() {
                    T.open(e.logoUrl, "_blank")
                })
            }
        },
        setLoadingProgress: function(e) {
            this.$fillPreloader ? this.setFillPreloaderProgress(e) : 0 < e && e < 1 ? x(this.preloader).stop(!0, !0).show() : x(this.preloader).stop(!0, !0).hide()
        },
        setFillPreloaderProgress: function(e) {
            if (this.$fillPreloader)
                if (0 < e && e < 1) {
                    if (this.fillPreloaderProgress = this.fillPreloaderProgress || 0, e < this.fillPreloaderProgress) return;
                    this.fillPreloaderProgress = e;
                    var t = this.$fillPreloaderImg[0];
                    t.style.clip = "rect(0px," + t.width * e + "px," + t.height + "px,0px)", this.$fillPreloader.show()
                } else this.$fillPreloader.hide()
        },
        createNavigation: function() {
            var t = this;
            this.navLeft = x("<div />"), this.navLeft.css("background", "#f00").css("left", "0").css("top", "200px").attr("aria-hidden", "true").addClass("skin-color fa fa-chevron-left fa-5x").css("margin-top", this.navLeft.height() + "px").bind("touchend click", function(e) {
                e.stopPropagation(), e.preventDefault(), t.Book.prevPage()
            }), this.navRight = x("<div />").appendTo(this.bookLayer).css("position", "absolute").css("width", "200px").css("height", "200px").css("margin-top", "-100px").css("background", "#f00").css("right", "0").css("top", "200px").bind("touchend click", function(e) {
                e.stopPropagation(), e.preventDefault(), t.Book.nextPage()
            })
        },
        playFlipSound: function() {
            var e = this;
            this.options.sound && this.Book.enabled && void 0 !== this.flipsound.play && (this.flipsound.currentTime = 0, setTimeout(function() {
                try {
                    e.flipsound.play()
                } catch (e) {}
            }, 100))
        },
        onMouseWheel: function(e) {
            if ("wheelDeltaX" in e) wheelDeltaX = e.wheelDeltaX / 12, wheelDeltaY = e.wheelDeltaY / 12;
            else if ("wheelDelta" in e) wheelDeltaX = wheelDeltaY = e.wheelDelta / 12;
            else {
                if (!("detail" in e)) return;
                wheelDeltaX = wheelDeltaY = 3 * -e.detail
            }
            0 < wheelDeltaX ? this.zoomIn(e) : this.zoomOut(e)
        },
        zoomTo: function(e, t, o) {
            var i, n;
            this.zoom = e, void 0 === o ? (i = this.model.wrapperW / 2, n = this.model.wrapperH / 2) : (o.touches && o.touches[0] ? (i = o.touches[0].pageX, n = o.touches[0].pageY) : o.changedTouches && o.changedTouches[0] ? (i = o.changedTouches[0].pageX, n = o.changedTouches[0].pageY) : (i = o.pageX, n = o.pageY), i -= this.wrapper.offset().left, n -= this.wrapper.offset().top), this.zoom < this.options.zoomMin && (this.zoom = this.options.zoomMin), this.zoom > this.options.zoomMax && (this.zoom = this.options.zoomMax), this.Book.zoomTo(this.zoom, t, i, n), this.onZoom(this.zoom)
        },
        zoomOut: function(e) {
            var t = this.zoom / this.options.zoomStep;
            if (t = t < this.options.zoomMin ? this.options.zoomMin : t, this.zoom != t) {
                this.zoom = t;
                var o = this.options.zoomTime;
                this.zoomTo(this.zoom, o, e)
            }
        },
        zoomIn: function(e) {
            var t = this.zoom * this.options.zoomStep;
            if (this.bookLayer.height() * t > this.options.zoomSize && (t = this.options.zoomSize / this.bookLayer.height()), this.zoom != t) {
                this.zoom = t;
                var o = this.options.zoomTime;
                this.zoomTo(this.zoom, o, e)
            }
        },
        onZoom: function(e) {
            this.zoom = e, this.enableButton(this.btnZoomIn, e < this.options.zoomMax), this.enableButton(this.btnZoomOut, e > this.options.zoomMin), this.enableSwipe(e <= 1)
        },
        enableSwipe: function(e) {
            this.swipeEnabled = e
        },
        createCurrentPage: function() {
            var o = this,
                e = x("<div>").appendTo(this.wrapper).addClass("flipbook-currentPageHolder");
            "top" == this.options.currentPagePositionV ? e.css("top", "0") : e.css("bottom", "0"), "left" == this.options.currentPagePositionH ? e.css("left", "0") : e.css("right", "0"), e.css("margin", this.options.currentPageMarginV + "px " + this.options.currentPageMarginH + "px"), this.currentPageHolder = e, this.currentPage = x(O.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(e);
            var t = x("<form>").appendTo(e).submit(function(e) {
                var t = parseInt(o.currentPageInput.val());
                return t = t > o.options.pages.length ? o.options.pages.length : t, o.options.rightToLeft && (t = o.options.pages.length - t + 1), o.Book.goToPage(t), o.currentPageInput.trigger("blur"), !1
            });
            this.currentPageInput = x('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").appendTo(t).focus(function() {
                o.currentPageInput.val("").width(o.currentPageHolder.width()), o.currentPage.addClass("flipbook-color-transparent")
            }).blur(function() {
                o.currentPage.removeClass("flipbook-color-transparent"), o.currentPageInput.val("")
            })
        },
        createSearch: function() {
            var e = this;
            this.searchEnabled = !0, this.searchHolder = x("<div>").addClass("flipbook-searchHolder skin-color-bg").appendTo(this.wrapper).hide(), this.search = x("<div>").addClass("flipbook-search").appendTo(this.searchHolder), e.searchScroll = new FLIPBOOK.IScroll(e.searchHolder[0], {
                bounce: !1,
                mouseWheel: !0,
                scrollbars: !0,
                interactiveScrollbars: !0
            }), this.createMenuHeader(this.search, "Search", this.toggleSearch), this.$searchBar = x('<div class="flipbook-findbar" id="findbar" deluminate_imagetype="png"><div id="findbarInputContainer"><input id="findInput" class="toolbarField" title="Find" placeholder="' + this.strings.findInDocument + '..."></div><div class="flipbook-find-info skin-color"/></div>').appendTo(this.search), this.$findInput = this.$searchBar.find("#findInput").keyup(function() {
                "" != this.value ? e.findInDocument(this.value) : e.unmark()
            }), this.$findInfo = this.$searchBar.find(".flipbook-find-info")
        },
        createBookmark: function() {
            var t = this;
            this.bookmarkHolder = x("<div>").addClass("skin-color-bg flipbook-bmHolder flipbook-font").appendTo(this.wrapper).hide(), this.createMenuHeader(this.bookmarkHolder, this.strings.bookmarks, this.toggleBookmark), this.bookmark = x("<div>").appendTo(this.bookmarkHolder), t.bookmarkScroll = new FLIPBOOK.IScroll(t.bookmarkHolder[0], {
                bounce: !1,
                mouseWheel: !0,
                scrollbars: !0,
                interactiveScrollbars: !0
            });
            x('<a><div class="c-p skin-color flipbook-btn">Bookmark current page</div></a>').appendTo(this.bookmark).bind("touchend click", function(e) {
                t.bookmarkPage(t.cPage[0], this), e.preventDefault(), e.stopPropagation()
            }), x('<a><div class="c-l-p skin-color flipbook-btn">' + this.strings.bookmarkLeftPage + "</div></a>").appendTo(this.bookmark).bind("touchend click", function(e) {
                t.bookmarkPage(t.cPage[0], this), e.preventDefault(), e.stopPropagation()
            }), x('<a><div class="c-r-p skin-color flipbook-btn">' + this.strings.bookmarkRightPage + "</div></a>").appendTo(this.bookmark).bind("touchend click", function(e) {
                t.bookmarkPage(t.cPage[1], this), e.preventDefault(), e.stopPropagation()
            })
        },
        createMenuHeader: function(e, t, o) {
            var i = this,
                n = x("<div>").addClass("flipbook-menu-header skin-clor flipbook-font").appendTo(e),
                s = (t = x("<span>").text(t).addClass("flipbook-menu-title skin-color").appendTo(n), x("<span>").appendTo(n).addClass("flipbook-btn-close").bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault(), o.call(i)
                }));
            x("<span>").attr("aria-hidden", "true").appendTo(s).addClass("fa fa-times flipbook-btn-close-icon skin-color")
        },
        createToc: function(e) {
            if (this.tocHolder = x("<div>").addClass("flipbook-tocHolder skin-color-bg").appendTo(this.wrapper).hide(), this.createMenuHeader(this.tocHolder, this.strings.tableOfContent, this.toggleToc), this.toc = x("<div>").addClass("flipbook-toc").appendTo(this.tocHolder), this.tocScroller = x("<div>").addClass("flipbook-toc-scroller").appendTo(this.toc), this.tocScroll = new FLIPBOOK.IScroll(this.toc[0], {
                    bounce: !1,
                    mouseWheel: !0,
                    scrollbars: !0,
                    interactiveScrollbars: !0
                }), e && 0 < e.length) {
                this.options.pages;
                for (var t = 0; t < e.length; t++) this.createTocItem(e[t])
            } else {
                var o = [];
                if (this.options.rightToLeft)
                    for (t = this.options.pages.length - 1; 0 <= t; t--) o.push(this.options.pages[t]);
                else o = this.options.pages;
                for (t = 0; t < o.length; t++) {
                    var i = o[t].title;
                    if ("" != i && void 0 !== i) {
                        var n = {
                            title: i,
                            page: String(t + 1)
                        };
                        this.createTocItem(n)
                    }
                }
            }
            this.tocScroll.refresh()
        },
        createTocItem: function(o, e, t) {
            var i = this,
                n = (e = e || this.tocScroller, x(O.createElement("a")).attr("class", "flipbook-tocItem").addClass("skin-color").appendTo(e).bind("touchend click", function(e) {
                    if (e.stopPropagation(), e.preventDefault(), !i.tocScroll.moved)
                        if (i.options.tableOfContentCloseOnClick && i.toggleToc(!1), !o.page && o.dest) i.pdfService.pdfDocument.getPageIndex(o.dest[0]).then(function(e) {
                            var t = e + 1;
                            t = i.options.rightToLeft ? i.options.pages.length - t + 1 : t, setTimeout(function() {
                                i.Book.goToPage(t)
                            }, 200)
                        });
                        else {
                            var t = o.page;
                            t = i.options.rightToLeft ? i.options.pages.length - t + 1 : t, setTimeout(function() {
                                i.Book.goToPage(t)
                            }, 200)
                        }
                }));
            t || (t = 0), n.level = t, n.css("padding", "8px 0"), n.css("margin-left", "10px"), t ? (n.css("margin-top", "8px"), n.css("padding-bottom", "0")) : (n.css("margin-right", "15px"), n.css("padding-left", "10px"));
            var s = x(O.createElement("span")).appendTo(n).css("width", "20px").css("display", "inline-block").css("cursor", "auto").bind("touchend click", function(e) {
                    e.stopPropagation(), e.preventDefault();
                    for (var t = 0; t < n.items.length; t++) n.items[t].toggle();
                    a.toggle(), r.toggle(), i.tocScroll.refresh()
                }),
                a = x("<span>").attr("aria-hidden", "true").appendTo(s).addClass("fa fa-chevron-right skin-color").hide(),
                r = x("<span>").attr("aria-hidden", "true").appendTo(s).addClass("fa fa-chevron-down skin-color").hide();
            if (x(O.createElement("span")).appendTo(n).addClass("title").text(o.title).css("width", String(170 - 10 * n.level) + "px"), x(O.createElement("span")).appendTo(n).attr("class", "right").text(o.page), o.items && o.items.length) {
                n.items = [];
                for (var l = 0; l < o.items.length; l++) {
                    var p = this.createTocItem(o.items[l], n, n.level + 1);
                    n.items.push(p), p.hide()
                }
                a.show()
            }
            return n
        },
        enablePrev: function(e) {
            this.enableButton(this.btnPrev, e), this.enableButton(this.btnFirst, e), this.Book.enablePrev(e)
        },
        enableNext: function(e) {
            this.enableButton(this.btnNext, e), this.enableButton(this.btnLast, e), this.Book.enableNext(e)
        },
        enableButton: function(e, t) {
            void 0 !== e && (t ? (e.css("opacity", "1"), e.css("pointer-events", "auto")) : (e.css("opacity", "0.2"), e.css("pointer-events", "none")), e.enabled = t)
        },
        resize: function() {
            var e = this;
            !e.options.menuOverBook && e.menuShowing ? e.bookLayer.css("bottom", e.menuWrapper.height() + "px") : e.bookLayer.css("bottom", "0px");
            var t = this.model;
            t.wrapperW = this.bookLayer.width(), t.wrapperH = this.bookLayer.height(), e.options.zoomMax = this.options.zoomSize / t.wrapperH, e.Book.onResize(), e.Book.zoomTo(e.options.zoomMin)
        },
        pdfResize: function() {
            this.Book.onZoom()
        },
        createThumbs: function() {
            var o = this;
            if (this.options.btnThumbs.enabled) {
                this.thumbsCreated = !0, this.thumbHolder = x(O.createElement("div")).addClass("flipbook-thumbHolder").addClass("skin-color-bg").appendTo(o.wrapper).hide(), this.thumbsWrapper = x(O.createElement("div")).appendTo(this.thumbHolder).addClass("flipbook-thumbsWrapper"), this.thumbsScroller = x(O.createElement("div")).appendTo(this.thumbsWrapper).addClass("flipbook-thumbsScroller"), this.createMenuHeader(this.thumbHolder, this.strings.thumbnails, this.toggleThumbs), o.thumbs = [];
                var e = [];
                if (this.options.rightToLeft)
                    for (var t = this.options.pages.length - 1; 0 <= t; t--) e.push(this.options.pages[t]);
                else e = this.options.pages;
                var i = [];
                if (this.options.doublePage)
                    for (t = 0; t < e.length; t++) 0 != t && t % 2 == 0 || i.push(e[t]);
                else i = e;
                this.options.pdfMode && this.loadThumbsFromPdf(i);
                var n = this.options.thumbSize,
                    s = this.options.thumbSize * this.options.pageWidth / this.options.pageHeight;
                for (t = 0; t < i.length; t++) {
                    var a = i[t].thumb,
                        r = x("<div>").addClass("flipbook-thumb").appendTo(o.thumbsScroller).attr("data-thumb-index", t).width(s).height(n),
                        l = x("<span>").appendTo(r).addClass("thumb-btn-close").bind("touchend click", function(e) {
                            e.stopPropagation(), e.preventDefault(), o.removeBookmark(x(this).parent().attr("data-thumb-index"))
                        });
                    x("<span>").attr("aria-hidden", "true").appendTo(l).addClass("fa fa-times skin-color");
                    if (this.thumbs.push(r), i[t].thumbCanvas) var p = x(i[t].thumbCanvas);
                    else {
                        if (!a) continue;
                        (p = x("<img/>").attr("src", a))[0].onload = function() {
                            o.thumbScroll.refresh()
                        }
                    }
                    if (p.appendTo(r), x("<br/>").appendTo(r), this.options.doublePage && 0 < t) {
                        r.width(2 * s), p.height(n).width(2 * s).attr("page-title", 2 * t + 1);
                        x(O.createElement("soan")).text(String(2 * t) + "-" + String(2 * t + 1)).appendTo(r).addClass("skin-color").addClass("flipbook-thumb-num")
                    } else {
                        p.height(n).width(s).attr("page-title", t + 1);
                        x(O.createElement("span")).text(t + 1).appendTo(r).addClass("skin-color").addClass("flipbook-thumb-num")
                    }
                    p.bind("touchend click", function(e) {
                        if (e.stopPropagation(), e.preventDefault(), !o.thumbScroll.moved) {
                            var t = Number(x(this).attr("page-title"));
                            o.options.rightToLeft && (t = o.options.pages.length - t + 1), setTimeout(function() {
                                o.Book.goToPage(t)
                            }, 200), o.options.thumbsCloseOnClick && o.toggleThumbs(!1)
                        }
                    })
                }
                this.thumbScroll = new FLIPBOOK.IScroll(this.thumbsWrapper[0], {
                    bounce: !1,
                    mouseWheel: !0,
                    scrollbars: !0,
                    interactiveScrollbars: !0
                })
            }
        },
        toggleThumbs: function(e) {
            this.thumbsCreated || (this.createThumbs(), this.initColors()), this.thumbHolder && (!this.thumbsShowing || e ? (this.closeMenus(), this.thumbsShowing = !0, this.thumbHolder.show(), this.thumbsVertical(), this.options.sideMenuOverBook || this.bookLayer.css("left", this.thumbHolder.width() + "px"), this.thumbsWrapper.appendTo(this.thumbHolder).css("top", "50px"), this.showAllThumbs(), x(".thumb-btn-close").hide()) : (this.thumbHolder.hide(), this.options.sideMenuOverBook || this.bookLayer.css("left", "0"), this.thumbsShowing = !1), this.resize())
        },
        toggleToc: function(e) {
            !this.tocShowing || e ? (this.closeMenus(), this.tocShowing = !0, this.tocHolder.show(), this.tocScroll.refresh(), this.options.sideMenuOverBook || this.bookLayer.css("left", this.tocHolder.width() + "px")) : (this.tocHolder.hide(), this.tocShowing = !1, this.options.sideMenuOverBook || this.bookLayer.css("left", "0")), this.resize()
        },
        toggleSearch: function(e) {
            this.thumbsCreated || (this.createThumbs(), this.initColors()), !this.searchShowing || e ? (this.closeMenus(), this.searchShowing = !0, this.searchHolder.show(), this.options.sideMenuOverBook || this.bookLayer.css("left", this.searchHolder.width() + "px"), this.thumbsWrapper.appendTo(this.searchHolder).css("top", "120px"), this.hideAllThumbs(), x(".thumb-btn-close").hide(), this.searchScroll.refresh(), this.$findInput.focus()) : (this.searchHolder.hide(), this.searchShowing = !1, this.options.sideMenuOverBook || this.bookLayer.css("left", "0")), this.$findInput.val(""), this.$findInfo.hide(), this.resize(), this.unmark()
        },
        toggleBookmark: function() {
            this.thumbsCreated || (this.createThumbs(), this.initColors()), this.bookmarkShowing ? (this.bookmarkHolder.hide(), this.bookmarkShowing = !1, x(".thumb-btn-close").hide(), this.options.sideMenuOverBook || this.bookLayer.css("left", "0")) : (this.closeMenus(), this.bookmarkShowing = !0, x(".thumb-btn-close").show(), this.bookmarkHolder.show(), this.bookmarkScroll.refresh(), this.options.sideMenuOverBook || this.bookLayer.css("left", this.bookmarkHolder.width() + "px"), this.thumbsWrapper.appendTo(this.bookmarkHolder).css("top", "120px"), this.showBookmarkedThumbs(), this.bookmarkScroll.refresh()), this.resize()
        },
        closeMenus: function() {
            this.thumbsShowing && this.toggleThumbs(), this.tocShowing && this.toggleToc(), this.searchShowing && this.toggleSearch(), this.bookmarkShowing && this.toggleBookmark(), this.printMenuShowing && this.togglePrintMenu(), this.dlMenuShowing && this.toggleDownloadMenu(), this.shareMenuShowing && this.toggleShareMenu()
        },
        togglePrintMenu: function() {
            var t = this;
            if (this.printMenu) this.printMenuShowing ? (this.printMenu.hide(), this.printMenuShowing = !1) : (this.closeMenus(), this.printMenu.show(), this.printMenuShowing = !0);
            else {
                this.printMenu = x('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);
                var e = x('<idv class="flipbook-sub-menu-center">').appendTo(this.printMenu),
                    o = x('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);
                this.createMenuHeader(o, this.strings.print, this.togglePrintMenu);
                x('<a><div class="c-p skin-color flipbook-btn">' + this.strings.printCurrentPage + "</div></a>").appendTo(o).bind("touchend click", function(e) {
                    t.printPage(t.cPage[0], this)
                }), x('<a><div class="c-l-p skin-color flipbook-btn">' + this.strings.printLeftPage + "</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click", function(e) {
                    t.printPage(t.cPage[0], this)
                }), x('<a><div class="c-r-p skin-color flipbook-btn">' + this.strings.printRightPage + "</div></a>").appendTo(this.printMenu).appendTo(o).bind("touchend click", function(e) {
                    t.printPage(t.cPage[1], this)
                }), x('<a><div class="skin-color flipbook-btn">' + this.strings.printAllPages + "</div></a>").appendTo(o).bind("touchend click", function(e) {
                    t.togglePrintWindow()
                });
                this.closeMenus(), this.printMenuShowing = !0, this.initColors()
            }
            2 == this.cPage.length ? (this.wrapper.find(".c-l-p").show(), this.wrapper.find(".c-r-p").show(), this.wrapper.find(".c-p").hide()) : (this.wrapper.find(".c-l-p").hide(), this.wrapper.find(".c-r-p").hide(), this.wrapper.find(".c-p").show())
        },
        toggleDownloadMenu: function() {
            var i = this;
            if (this.dlMenu) this.dlMenuShowing ? (this.dlMenu.hide(), this.dlMenuShowing = !1) : (this.dlMenu.show(), this.closeMenus(), this.dlMenuShowing = !0);
            else {
                this.dlMenu = x('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);
                var e = x('<idv class="flipbook-sub-menu-center">').appendTo(this.dlMenu),
                    t = x('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);
                this.createMenuHeader(t, this.strings.download, this.toggleDownloadMenu);
                x('<a><div class="c-p skin-color flipbook-btn">' + this.strings.downloadCurrentPage + "</div></a>").appendTo(t).bind("touchend click", function(e) {
                    i.downloadPage(i.cPage[0], this)
                }), x('<a><div class="c-l-p skin-color flipbook-btn">' + this.strings.downloadLeftPage + "</div></a>").appendTo(t).bind("touchend click", function(e) {
                    i.downloadPage(i.cPage[0], this)
                }), x('<a><div class="c-r-p skin-color flipbook-btn">' + this.strings.downloadRightPage + "</div></a>").appendTo(t).bind("touchend click", function(e) {
                    i.downloadPage(i.cPage[1], this)
                }), x('<a><div class="skin-color flipbook-btn">' + this.strings.downloadAllPages + "</div></a>").appendTo(t).bind("touchend click", function(e) {
                    var t = O.createElement("a");
                    t.href = i.options.btnDownloadPages.url;
                    var o = t.href.split("/").pop().split("#")[0].split("?")[0];
                    t.download = o, t.dispatchEvent(new MouseEvent("click"))
                });
                this.closeMenus(), this.dlMenuShowing = !0, this.initColors()
            }
            2 == this.cPage.length ? (this.wrapper.find(".c-l-p").show(), this.wrapper.find(".c-r-p").show(), this.wrapper.find(".c-p").hide()) : (this.wrapper.find(".c-l-p").hide(), this.wrapper.find(".c-r-p").hide(), this.wrapper.find(".c-p").show())
        },
        toggleShareMenu: function() {
            if (this.shareMenu) this.shareMenuShowing ? (this.shareMenu.hide(), this.shareMenuShowing = !1) : (this.shareMenu.show(), this.closeMenus(), this.shareMenuShowing = !0);
            else {
                this.shareMenu = x('<div class="flipbook-sub-menu flipbook-font">').appendTo(this.wrapper);
                var e = x('<idv class="flipbook-sub-menu-center">').appendTo(this.shareMenu),
                    t = x('<idv class="flipbook-sub-menu-content skin-color-bg">').appendTo(e);
                this.createMenuHeader(t, "Share", this.toggleShareMenu);
                var o = x('<idv class="flipbook-share">').appendTo(t),
                    i = this.options;
                this.share = new Share(o[0], {
                    networks: {
                        google_plus: i.google_plus,
                        twitter: i.twitter,
                        facebook: i.facebook,
                        pinterest: i.pinterest,
                        email: i.email
                    }
                }), this.closeMenus(), this.shareMenuShowing = !0, this.initColors()
            }
        },
        bookmarkPage: function(e) {
            var t = this.getBookmarkedPages();
            t.indexOf(String(e)) < 0 && t.push(e), this.setBookmarkedPages(t), this.showBookmarkedThumbs(), this.bookmarkShowing || this.toggleBookmark()
        },
        removeBookmark: function(e) {
            var t = this.getBookmarkedPages(); - 1 < t.indexOf(String(e)) && t.splice(t.indexOf(String(e)), 1), this.setBookmarkedPages(t), this.showBookmarkedThumbs(), this.bookmarkShowing || this.toggleBookmark()
        },
        isBookmarked: function(e) {
            return 0 < this.getBookmarkedPages().indexOf(String(e))
        },
        getBookmarkedPages: function() {
            var e = localStorage.getItem(this.options.name + "_flipbook_bookmarks");
            return e ? e.split(";") : []
        },
        setBookmarkedPages: function(e) {
            localStorage.setItem(this.options.name + "_flipbook_bookmarks", e.join(";"))
        },
        printPage: function(e, t) {
            var o;
            if (this.options.pages[e] && this.options.pages[e].print ? o = this.options.pages[e].print : this.options.pages[e] && this.options.pages[e].canvas && this.options.pages[e].canvas[this.options.pageTextureSize] ? o = this.options.pages[e].canvas[this.options.pageTextureSize].toDataURL() : this.options.pages[e] && this.options.pages[e].src && (o = this.options.pages[e].src), o) {
                var i = "<!DOCTYPE html>";
                i += "<html>", i += "<head><title>Print canvas</title></head>", i += "<body>", i += '<img src="' + o + '">', i += "</body>", i += "</html>";
                var n = T.open("", "Print", "height=1600,width=800");
                n.document.open(), n.document.write(i), n.document.close(), n.document.addEventListener("load", function() {
                    n.focus(), n.print(), n.document.close(), n.close()
                }, !0)
            }
        },
        downloadPage: function(e) {
            if (this.options.pages[e] && this.options.pages[e].download) url = this.options.pages[e].download;
            else if (this.options.pages[e] && this.options.pages[e].src) url = this.options.pages[e].src;
            else if (this.options.pages[e] && this.options.pages[e].canvas && this.options.pages[e].canvas[this.options.pageTextureSize]) {
                var t = O.createElement("canvas"),
                    o = this.options.pageWidth / this.options.pageHeight;
                t.width = this.options.pageTextureSize * o, t.height = this.options.pageTextureSize, t.getContext("2d").drawImage(this.options.pages[e].canvas[this.options.pageTextureSize], 0, 0), url = t.toDataURL("image/jpeg", .5), delete t
            }
            if (url) {
                var i = O.createElement("a");
                i.href = url, i.download = "page" + String(e + 1), O.body.appendChild(i), i.click(), O.body.removeChild(i), delete i
            }
        },
        showAllThumbs: function() {
            x(".flipbook-thumb").show(), this.thumbScroll.refresh()
        },
        hideAllThumbs: function() {
            x(".flipbook-thumb").hide(), this.thumbScroll.refresh()
        },
        showThumb: function(e) {
            this.thumbs[e].show(), this.thumbScroll.refresh()
        },
        hideThumb: function(e) {
            this.thumbs[e].hide(), this.thumbScroll.refresh()
        },
        showBookmarkedThumbs: function() {
            var e = this.getBookmarkedPages();
            this.hideAllThumbs();
            for (var t = 0; t < e.length; t++) {
                var o = e[t];
                o && this.showThumb(o)
            }
        },
        printPdf: function(e) {
            T.open(e, "_blank").onload = function() {
                this.print()
            }
        },
        togglePrintWindow: function(e) {
            var n;
            (n = this).options.printPdfUrl ? n.printPdf(n.options.printPdfUrl) : n.options.pdfUrl ? n.printPdf(n.options.pdfUrl) : t();

            function t() {
                link = "about:blank";
                var e = T.open(link, "_new");
                e.document.open();
                for (var t = "", o = 0; o < n.options.pages.length; o++) n.options.pages[o].src && (t += '<img src="' + n.options.pages[o].src.toString() + '"/>\n');
                var i = "<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.print();\n  window.close();\n}\n<\/script>\n</head>\n<body onLoad='step1()'>\n" + t + "</body>\n</html>\n";
                e.document.write(i), e.document.close()
            }
        },
        thumbsVertical: function() {
            this.thumbsCreated && (this.thumbScroll.hScroll = !1, this.thumbScroll.vScroll = !0, this.thumbScroll.refresh())
        },
        toggleExpand: function(e) {
            this.browserFullscreen = !0, screenfull.enabled ? screenfull.toggle(this.fullscreenElement) : (this.isFullscreen = !this.isFullscreen, this.handleFsChange())
        },
        expand: function() {},
        toggleAutoplay: function(e) {
            var t = this;
            this.autoplay = e || !this.autoplay, this.autoplay ? (t.btnAutoplay.find("." + t.btnAutoplay.icon).hide(), t.btnAutoplay.find("." + t.btnAutoplay.iconAlt).show(), this.autoplayTimer = setInterval(function() {
                if (t.autoplay) {
                    var e = t.options.autoplayStartPage || 1;
                    t.options.rightToLeft ? t.Book.prevEnabled ? t.Book.prevPage() : t.goToPage(t.options.pages.length - e + 1) : t.Book.nextEnabled ? t.Book.nextPage() : t.goToPage(e)
                }
            }, t.options.autoplayInterval)) : (t.btnAutoplay.find("." + t.btnAutoplay.icon).show(), t.btnAutoplay.find("." + t.btnAutoplay.iconAlt).hide(), clearInterval(t.autoplayTimer))
        },
        triggerResizeOnce: function() {
            setTimeout(function() {
                x(T).trigger("resize")
            }, 100), setTimeout(function() {
                x(T).trigger("resize")
            }, 500)
        },
        triggerResize: function() {
            setTimeout(function() {
                x(T).trigger("resize")
            }, 100), setTimeout(function() {
                x(T).trigger("resize")
            }, 500), setTimeout(function() {
                x(T).trigger("resize")
            }, 2e3)
        },
        toggleSlideshow: function() {},
        initEasing: function() {
            T.jQuery.extend(T.jQuery.easing, {
                def: "easeOutQuad",
                swing: function(e, t, o, i, n) {
                    return x.easing[x.easing.def](e, t, o, i, n)
                },
                easeInQuad: function(e, t, o, i, n) {
                    return i * (t /= n) * t + o
                },
                easeOutQuad: function(e, t, o, i, n) {
                    return -i * (t /= n) * (t - 2) + o
                },
                easeInOutQuad: function(e, t, o, i, n) {
                    return (t /= n / 2) < 1 ? i / 2 * t * t + o : -i / 2 * (--t * (t - 2) - 1) + o
                },
                easeInCubic: function(e, t, o, i, n) {
                    return i * (t /= n) * t * t + o
                },
                easeOutCubic: function(e, t, o, i, n) {
                    return i * ((t = t / n - 1) * t * t + 1) + o
                },
                easeInOutCubic: function(e, t, o, i, n) {
                    return (t /= n / 2) < 1 ? i / 2 * t * t * t + o : i / 2 * ((t -= 2) * t * t + 2) + o
                },
                easeInQuart: function(e, t, o, i, n) {
                    return i * (t /= n) * t * t * t + o
                },
                easeOutQuart: function(e, t, o, i, n) {
                    return -i * ((t = t / n - 1) * t * t * t - 1) + o
                },
                easeInOutQuart: function(e, t, o, i, n) {
                    return (t /= n / 2) < 1 ? i / 2 * t * t * t * t + o : -i / 2 * ((t -= 2) * t * t * t - 2) + o
                },
                easeInQuint: function(e, t, o, i, n) {
                    return i * (t /= n) * t * t * t * t + o
                },
                easeOutQuint: function(e, t, o, i, n) {
                    return i * ((t = t / n - 1) * t * t * t * t + 1) + o
                },
                easeInOutQuint: function(e, t, o, i, n) {
                    return (t /= n / 2) < 1 ? i / 2 * t * t * t * t * t + o : i / 2 * ((t -= 2) * t * t * t * t + 2) + o
                },
                easeInSine: function(e, t, o, i, n) {
                    return -i * Math.cos(t / n * (Math.PI / 2)) + i + o
                },
                easeOutSine: function(e, t, o, i, n) {
                    return i * Math.sin(t / n * (Math.PI / 2)) + o
                },
                easeInOutSine: function(e, t, o, i, n) {
                    return -i / 2 * (Math.cos(Math.PI * t / n) - 1) + o
                },
                easeInExpo: function(e, t, o, i, n) {
                    return 0 == t ? o : i * Math.pow(2, 10 * (t / n - 1)) + o
                },
                easeOutExpo: function(e, t, o, i, n) {
                    return t == n ? o + i : i * (1 - Math.pow(2, -10 * t / n)) + o
                },
                easeInOutExpo: function(e, t, o, i, n) {
                    return 0 == t ? o : t == n ? o + i : (t /= n / 2) < 1 ? i / 2 * Math.pow(2, 10 * (t - 1)) + o : i / 2 * (2 - Math.pow(2, -10 * --t)) + o
                },
                easeInCirc: function(e, t, o, i, n) {
                    return -i * (Math.sqrt(1 - (t /= n) * t) - 1) + o
                },
                easeOutCirc: function(e, t, o, i, n) {
                    return i * Math.sqrt(1 - (t = t / n - 1) * t) + o
                },
                easeInOutCirc: function(e, t, o, i, n) {
                    return (t /= n / 2) < 1 ? -i / 2 * (Math.sqrt(1 - t * t) - 1) + o : i / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + o
                },
                easeInElastic: function(e, t, o, i, n) {
                    var s = 1.70158,
                        a = 0,
                        r = i;
                    if (0 == t) return o;
                    if (1 == (t /= n)) return o + i;
                    if (a || (a = .3 * n), r < Math.abs(i)) {
                        r = i;
                        s = a / 4
                    } else s = a / (2 * Math.PI) * Math.asin(i / r);
                    return -r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - s) * (2 * Math.PI) / a) + o
                },
                easeOutElastic: function(e, t, o, i, n) {
                    var s = 1.70158,
                        a = 0,
                        r = i;
                    if (0 == t) return o;
                    if (1 == (t /= n)) return o + i;
                    if (a || (a = .3 * n), r < Math.abs(i)) {
                        r = i;
                        s = a / 4
                    } else s = a / (2 * Math.PI) * Math.asin(i / r);
                    return r * Math.pow(2, -10 * t) * Math.sin((t * n - s) * (2 * Math.PI) / a) + i + o
                },
                easeInOutElastic: function(e, t, o, i, n) {
                    var s = 1.70158,
                        a = 0,
                        r = i;
                    if (0 == t) return o;
                    if (2 == (t /= n / 2)) return o + i;
                    if (a || (a = n * (.3 * 1.5)), r < Math.abs(i)) {
                        r = i;
                        s = a / 4
                    } else s = a / (2 * Math.PI) * Math.asin(i / r);
                    return t < 1 ? r * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - s) * (2 * Math.PI) / a) * -.5 + o : r * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * n - s) * (2 * Math.PI) / a) * .5 + i + o
                },
                easeInBack: function(e, t, o, i, n, s) {
                    return s == a && (s = 1.70158), i * (t /= n) * t * ((s + 1) * t - s) + o
                },
                easeOutBack: function(e, t, o, i, n, s) {
                    return s == a && (s = 1.70158), i * ((t = t / n - 1) * t * ((s + 1) * t + s) + 1) + o
                },
                easeInOutBack: function(e, t, o, i, n, s) {
                    return s == a && (s = 1.70158), (t /= n / 2) < 1 ? i / 2 * (t * t * ((1 + (s *= 1.525)) * t - s)) + o : i / 2 * ((t -= 2) * t * ((1 + (s *= 1.525)) * t + s) + 2) + o
                },
                easeInBounce: function(e, t, o, i, n) {
                    return i - x.easing.easeOutBounce(e, n - t, 0, i, n) + o
                },
                easeOutBounce: function(e, t, o, i, n) {
                    return (t /= n) < 1 / 2.75 ? i * (7.5625 * t * t) + o : t < 2 / 2.75 ? i * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + o : t < 2.5 / 2.75 ? i * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + o : i * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + o
                },
                easeInOutBounce: function(e, t, o, i, n) {
                    return t < n / 2 ? .5 * x.easing.easeInBounce(e, 2 * t, 0, i, n) + o : .5 * x.easing.easeOutBounce(e, 2 * t - n, 0, i, n) + .5 * i + o
                }
            })
        }
    }, FLIPBOOK.Book = function() {}, FLIPBOOK.Book.prototype = {
        rightIndex: 0,
        goToPage: function() {}
    }, FLIPBOOK.Lightbox = function(e, t, o) {
        var i = this;
        this.context = e, this.options = o, this.lightboxOpened = !1, e.$elem.bind("tap click", function(e) {
            i.openLightbox(), e.stopPropagation()
        });
        x(e.elem).find("img");
        i.overlay = x(O.createElement("div")).attr("style", o.lightboxCSS).addClass("flipbook-overlay").css("display", "none").css("top", i.options.lightboxMarginV).css("bottom", i.options.lightboxMarginV).css("left", i.options.lightboxMarginH).css("right", i.options.lightboxMarginH).appendTo("body"), i.options.lightboxCloseOnClick && x("body").bind("tap click", function(e) {
            var t = x(e.target);
            t.parents().hasClass("flipbook-overlay") && !t.hasClass("flipbook-bookLayer") || i.closeLightbox()
        }), o.lightboxBackground && i.overlay.css("background", o.lightboxBackground), x(O).keyup(function(e) {
            27 == e.keyCode && i.closeLightbox()
        }), i.wrapper = x(O.createElement("div")).css("height", "auto").appendTo(i.overlay), i.wrapper.attr("class", "flipbook-wrapper-transparent").css("margin", "0px auto").css("padding", "0px").css("height", "100%").css("width", "100%"), t.appendTo(i.wrapper);
        var n = x("<div/>").appendTo(i.wrapper).addClass("flipbook-lightbox-toolbar"),
            s = o,
            a = x('<span title="' + s.strings.pressEscToClose + '"/>').appendTo(n).bind("touchend click", function(e) {
                e.stopPropagation(), e.preventDefault(), i.closeLightbox()
            });
        x("<span/>").appendTo(a).addClass("flipbook-lightbox-close fa fa-times").css({
            "font-size": s.closeBtnSize + "px",
            padding: s.closeBtnPadding + "px ",
            margin: s.closeBtnMargin + "px ",
            "border-radius": s.closeBtnRadius + "px ",
            "text-shadow": s.closeBtnTextShadow,
            color: s.closeBtnColor,
            background: s.closeBtnBackground,
            border: s.closeBtnBorder
        })
    }, FLIPBOOK.Lightbox.prototype = {
        openLightbox: function() {
            this.lightboxOpened || (this.lightboxOpened = !0, this.overlay.css("display", "none"), this.overlay.fadeIn("slow", function() {}), x("body").addClass("flipbook-overflow-hidden"), x("html").addClass("flipbook-overflow-hidden"))
        },
        closeLightbox: function() {
            1 == this.lightboxOpened && (this.lightboxOpened = !1, this.overlay.fadeOut("fast"), x("body").removeClass("flipbook-overflow-hidden"), x("html").removeClass("flipbook-overflow-hidden"), x(this.context.fullscreenElement).removeClass("flipbook-browser-fullscreen"), this.context.lightboxEnd())
        },
        resize: function() {
            var e = x(T);
            e.width(), e.height()
        }
    }, FLIPBOOK.getFlipbookSrc = function() {
        for (var e = O.getElementsByTagName("script"), t = 0; t < e.length; t++) {
            var o = String(e[t].src);
            if (o.match("flipbook\\.js") || o.match("flipbook\\.min\\.js")) return o
        }
        return ""
    }, FLIPBOOK.flipbookSrc = FLIPBOOK.getFlipbookSrc(), FLIPBOOK.iscrollSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/iscroll."), FLIPBOOK.threejsSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/three."), FLIPBOOK.flipbookWebGlSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/flipbook.webgl."), FLIPBOOK.flipbookBook3Src = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/flipbook.book3."), FLIPBOOK.flipBookSwipeSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/flipbook.swipe."), FLIPBOOK.flipBookSimpleSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/flipbook.simple."), FLIPBOOK.pdfjsSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/pdf."), FLIPBOOK.pdfServiceSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/flipbook.pdfservice."), FLIPBOOK.pdfjsworkerSrc = FLIPBOOK.flipbookSrc.replace("/flipbook.", "/pdf.worker."), FLIPBOOK.markSrc = "https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js", FLIPBOOK.scriptsLoaded = {}, FLIPBOOK.scriptsAdded = {}
}(jQuery, window, document),
function() {
    "use strict";
    var s = "undefined" != typeof window && void 0 !== window.document ? window.document : {},
        e = "undefined" != typeof module && module.exports,
        o = "undefined" != typeof Element && "ALLOW_KEYBOARD_INPUT" in Element,
        i = function() {
            for (var e, t = [
                    ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                    ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                    ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                    ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                    ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
                ], o = 0, i = t.length, n = {}; o < i; o++)
                if ((e = t[o]) && e[1] in s) {
                    for (o = 0; o < e.length; o++) n[t[0][o]] = e[o];
                    return n
                }
            return !1
        }(),
        n = {
            change: i.fullscreenchange,
            error: i.fullscreenerror
        },
        t = {
            request: function(e) {
                var t = i.requestFullscreen;
                e = e || s.documentElement, / Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent) ? e[t]() : e[t](o ? Element.ALLOW_KEYBOARD_INPUT : {})
            },
            exit: function() {
                s[i.exitFullscreen]()
            },
            toggle: function(e) {
                this.isFullscreen ? this.exit() : this.request(e)
            },
            onchange: function(e) {
                this.on("change", e)
            },
            onerror: function(e) {
                this.on("error", e)
            },
            on: function(e, t) {
                var o = n[e];
                o && s.addEventListener(o, t, !1)
            },
            off: function(e, t) {
                var o = n[e];
                o && s.removeEventListener(o, t, !1)
            },
            raw: i
        };
    i ? (Object.defineProperties(t, {
        isFullscreen: {
            get: function() {
                return Boolean(s[i.fullscreenElement])
            }
        },
        element: {
            enumerable: !0,
            get: function() {
                return s[i.fullscreenElement]
            }
        },
        enabled: {
            enumerable: !0,
            get: function() {
                return Boolean(s[i.fullscreenEnabled])
            }
        }
    }), e ? module.exports = t : window.screenfull = t) : e ? module.exports = !1 : window.screenfull = !1
}(),
function(e) {
    (jQuery.browser = jQuery.browser || {}).mobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0, 4))
}(navigator.userAgent || navigator.vendor || window.opera),
function(e) {
    "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : e("undefined" != typeof module && module.exports ? require("jquery") : jQuery)
}(function(re) {
    "use strict";

    function i(e, f) {
        function t(e) {
            if (!(!0 === Y.data(Ce + "_intouch") || 0 < re(e.target).closest(f.excludedElements, Y).length)) {
                var t = e.originalEvent ? e.originalEvent : e;
                if (!t.pointerType || "mouse" != t.pointerType || 0 != f.fallbackToMouseEvents) {
                    var o, i = t.touches,
                        n = i ? i[0] : t;
                    return X = Te, i ? J = i.length : !1 !== f.preventDefaultEvents && e.preventDefault(), Q = R = j = null, $ = 1, q = U = V = W = N = 0, (s = {})[le] = L(le), s[pe] = L(pe), s[de] = L(de), s[ce] = L(ce), Z = s, B(), O(0, n), !i || J === f.fingers || f.fingers === Be || k() ? (ee = E(), 2 == J && (O(1, i[1]), V = U = F(G[0].start, G[1].start)), (f.swipeStatus || f.pinchStatus) && (o = m(t, X))) : o = !1, !1 === o ? (m(t, X = Me), o) : (f.hold && (ae = setTimeout(re.proxy(function() {
                        Y.trigger("hold", [t.target]), f.hold && (o = f.hold.call(Y, t, t.target))
                    }, this), f.longTapThreshold)), T(!0), null)
                }
            }
            var s
        }

        function o(e) {
            var t, o, i, n, s, a, r, l, p = e.originalEvent ? e.originalEvent : e;
            if (X !== ye && X !== Me && !x()) {
                var d, c = p.touches,
                    h = y(c ? c[0] : p);
                if (te = E(), c && (J = c.length), f.hold && clearTimeout(ae), X = Oe, 2 == J && (0 == V ? (O(1, c[1]), V = U = F(G[0].start, G[1].start)) : (y(c[1]), U = F(G[0].end, G[1].end), G[0].end, G[1].end, Q = $ < 1 ? ue : he), $ = (U / V * 1).toFixed(2), q = Math.abs(V - U)), J === f.fingers || f.fingers === Be || !c || k()) {
                    if (j = C(h.start, h.end), function(e, t) {
                            if (!1 !== f.preventDefaultEvents)
                                if (f.allowPageScroll === ge) e.preventDefault();
                                else {
                                    var o = f.allowPageScroll === fe;
                                    switch (t) {
                                        case le:
                                            (f.swipeLeft && o || !o && f.allowPageScroll != Pe) && e.preventDefault();
                                            break;
                                        case pe:
                                            (f.swipeRight && o || !o && f.allowPageScroll != Pe) && e.preventDefault();
                                            break;
                                        case de:
                                            (f.swipeUp && o || !o && f.allowPageScroll != Se) && e.preventDefault();
                                            break;
                                        case ce:
                                            (f.swipeDown && o || !o && f.allowPageScroll != Se) && e.preventDefault()
                                    }
                                }
                        }(e, R = C(h.last, h.end)), r = h.start, l = h.end, N = Math.round(Math.sqrt(Math.pow(l.x - r.x, 2) + Math.pow(l.y - r.y, 2))), W = I(), a = N, (s = j) != ge && (a = Math.max(a, M(s)), Z[s].distance = a), d = m(p, X), !f.triggerOnTouchEnd || f.triggerOnTouchLeave) {
                        var u = !0;
                        if (f.triggerOnTouchLeave) {
                            var g = {
                                left: (n = (i = re(i = this)).offset()).left,
                                right: n.left + i.outerWidth(),
                                top: n.top,
                                bottom: n.top + i.outerHeight()
                            };
                            t = h.end, o = g, u = t.x > o.left && t.x < o.right && t.y > o.top && t.y < o.bottom
                        }!f.triggerOnTouchEnd && u ? X = b(Oe) : f.triggerOnTouchLeave && !u && (X = b(ye)), X != Me && X != ye || m(p, X)
                    }
                } else m(p, X = Me);
                !1 === d && m(p, X = Me)
            }
        }

        function i(e) {
            var t, o = e.originalEvent ? e.originalEvent : e,
                i = o.touches;
            if (i) {
                if (i.length && !x()) return t = o, oe = E(), ie = t.touches.length + 1, !0;
                if (i.length && x()) return !0
            }
            return x() && (J = ie), te = E(), W = I(), p() || !l() ? m(o, X = Me) : f.triggerOnTouchEnd || !1 === f.triggerOnTouchEnd && X === Oe ? (!1 !== f.preventDefaultEvents && !1 !== e.cancelable && e.preventDefault(), m(o, X = ye)) : !f.triggerOnTouchEnd && v() ? r(o, X = ye, ke) : X === Oe && m(o, X = Me), T(!1), null
        }

        function n() {
            U = V = ee = te = J = 0, $ = 1, B(), T(!1)
        }

        function s(e) {
            var t = e.originalEvent ? e.originalEvent : e;
            f.triggerOnTouchLeave && m(t, X = b(ye))
        }

        function a() {
            Y.unbind(_, t), Y.unbind(K, n), Y.unbind(D, o), Y.unbind(A, i), H && Y.unbind(H, s), T(!1)
        }

        function b(e) {
            var t = e,
                o = d(),
                i = l(),
                n = p();
            return !o || n ? t = Me : !i || e != Oe || f.triggerOnTouchEnd && !f.triggerOnTouchLeave ? !i && e == ye && f.triggerOnTouchLeave && (t = Me) : t = ye, t
        }

        function m(e, t) {
            var o, i = e.touches;
            return (!(!h() || !u()) || u()) && (o = r(e, t, be)), (!(!c() || !k()) || k()) && !1 !== o && (o = r(e, t, me)), S() && P() && !1 !== o ? o = r(e, t, we) : W > f.longTapThreshold && N < xe && f.longTap && !1 !== o ? o = r(e, t, ve) : !(1 !== J && Le || !(isNaN(N) || N < f.threshold) || !v()) && !1 !== o && (o = r(e, t, ke)), t === Me && n(), t === ye && (i && i.length || n()), o
        }

        function r(e, t, o) {
            var i;
            if (o == be) {
                if (Y.trigger("swipeStatus", [t, j || null, N || 0, W || 0, J, G, R]), f.swipeStatus && !1 === (i = f.swipeStatus.call(Y, e, t, j || null, N || 0, W || 0, J, G, R))) return !1;
                if (t == ye && h()) {
                    if (clearTimeout(se), clearTimeout(ae), Y.trigger("swipe", [j, N, W, J, G, R]), f.swipe && !1 === (i = f.swipe.call(Y, e, j, N, W, J, G, R))) return !1;
                    switch (j) {
                        case le:
                            Y.trigger("swipeLeft", [j, N, W, J, G, R]), f.swipeLeft && (i = f.swipeLeft.call(Y, e, j, N, W, J, G, R));
                            break;
                        case pe:
                            Y.trigger("swipeRight", [j, N, W, J, G, R]), f.swipeRight && (i = f.swipeRight.call(Y, e, j, N, W, J, G, R));
                            break;
                        case de:
                            Y.trigger("swipeUp", [j, N, W, J, G, R]), f.swipeUp && (i = f.swipeUp.call(Y, e, j, N, W, J, G, R));
                            break;
                        case ce:
                            Y.trigger("swipeDown", [j, N, W, J, G, R]), f.swipeDown && (i = f.swipeDown.call(Y, e, j, N, W, J, G, R))
                    }
                }
            }
            if (o == me) {
                if (Y.trigger("pinchStatus", [t, Q || null, q || 0, W || 0, J, $, G]), f.pinchStatus && !1 === (i = f.pinchStatus.call(Y, e, t, Q || null, q || 0, W || 0, J, $, G))) return !1;
                if (t == ye && c()) switch (Q) {
                    case he:
                        Y.trigger("pinchIn", [Q || null, q || 0, W || 0, J, $, G]), f.pinchIn && (i = f.pinchIn.call(Y, e, Q || null, q || 0, W || 0, J, $, G));
                        break;
                    case ue:
                        Y.trigger("pinchOut", [Q || null, q || 0, W || 0, J, $, G]), f.pinchOut && (i = f.pinchOut.call(Y, e, Q || null, q || 0, W || 0, J, $, G))
                }
            }
            return o == ke ? t !== Me && t !== ye || (clearTimeout(se), clearTimeout(ae), P() && !S() ? (ne = E(), se = setTimeout(re.proxy(function() {
                ne = null, Y.trigger("tap", [e.target]), f.tap && (i = f.tap.call(Y, e, e.target))
            }, this), f.doubleTapThreshold)) : (ne = null, Y.trigger("tap", [e.target]), f.tap && (i = f.tap.call(Y, e, e.target)))) : o == we ? t !== Me && t !== ye || (clearTimeout(se), clearTimeout(ae), ne = null, Y.trigger("doubletap", [e.target]), f.doubleTap && (i = f.doubleTap.call(Y, e, e.target))) : o == ve && (t !== Me && t !== ye || (clearTimeout(se), ne = null, Y.trigger("longtap", [e.target]), f.longTap && (i = f.longTap.call(Y, e, e.target)))), i
        }

        function l() {
            var e = !0;
            return null !== f.threshold && (e = N >= f.threshold), e
        }

        function p() {
            var e = !1;
            return null !== f.cancelThreshold && null !== j && (e = M(j) - N >= f.cancelThreshold), e
        }

        function d() {
            return !(f.maxTimeThreshold && W >= f.maxTimeThreshold)
        }

        function c() {
            var e = g(),
                t = w(),
                o = null === f.pinchThreshold || q >= f.pinchThreshold;
            return e && t && o
        }

        function k() {
            return !!(f.pinchStatus || f.pinchIn || f.pinchOut)
        }

        function h() {
            var e = d(),
                t = l(),
                o = g(),
                i = w();
            return !p() && i && o && t && e
        }

        function u() {
            return !!(f.swipe || f.swipeStatus || f.swipeLeft || f.swipeRight || f.swipeUp || f.swipeDown)
        }

        function g() {
            return J === f.fingers || f.fingers === Be || !Le
        }

        function w() {
            return 0 !== G[0].end.x
        }

        function v() {
            return !!f.tap
        }

        function P() {
            return !!f.doubleTap
        }

        function S() {
            if (null == ne) return !1;
            var e = E();
            return P() && e - ne <= f.doubleTapThreshold
        }

        function B() {
            ie = oe = 0
        }

        function x() {
            var e = !1;
            oe && (E() - oe <= f.fingerReleaseThreshold && (e = !0));
            return e
        }

        function T(e) {
            Y && (!0 === e ? (Y.bind(D, o), Y.bind(A, i), H && Y.bind(H, s)) : (Y.unbind(D, o, !1), Y.unbind(A, i, !1), H && Y.unbind(H, s, !1)), Y.data(Ce + "_intouch", !0 === e))
        }

        function O(e, t) {
            var o = {
                start: {
                    x: 0,
                    y: 0
                },
                last: {
                    x: 0,
                    y: 0
                },
                end: {
                    x: 0,
                    y: 0
                }
            };
            return o.start.x = o.last.x = o.end.x = t.pageX || t.clientX, o.start.y = o.last.y = o.end.y = t.pageY || t.clientY, G[e] = o
        }

        function y(e) {
            var t = void 0 !== e.identifier ? e.identifier : 0,
                o = G[t] || null;
            return null === o && (o = O(t, e)), o.last.x = o.end.x, o.last.y = o.end.y, o.end.x = e.pageX || e.clientX, o.end.y = e.pageY || e.clientY, o
        }

        function M(e) {
            if (Z[e]) return Z[e].distance
        }

        function L(e) {
            return {
                direction: e,
                distance: 0
            }
        }

        function I() {
            return te - ee
        }

        function F(e, t) {
            var o = Math.abs(e.x - t.x),
                i = Math.abs(e.y - t.y);
            return Math.round(Math.sqrt(o * o + i * i))
        }

        function C(e, t) {
            if (i = t, (o = e).x == i.x && o.y == i.y) return ge;
            var o, i, n, s, a, r, l, p, d = (s = t, a = (n = e).x - s.x, r = s.y - n.y, l = Math.atan2(r, a), (p = Math.round(180 * l / Math.PI)) < 0 && (p = 360 - Math.abs(p)), p);
            return d <= 45 && 0 <= d ? le : d <= 360 && 315 <= d ? le : 135 <= d && d <= 225 ? pe : 45 < d && d < 135 ? ce : de
        }

        function E() {
            return (new Date).getTime()
        }
        f = re.extend({}, f);
        var z = Le || Fe || !f.fallbackToMouseEvents,
            _ = z ? Fe ? Ie ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
            D = z ? Fe ? Ie ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
            A = z ? Fe ? Ie ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
            H = z ? Fe ? "mouseleave" : null : "mouseleave",
            K = Fe ? Ie ? "MSPointerCancel" : "pointercancel" : "touchcancel",
            N = 0,
            j = null,
            R = null,
            W = 0,
            V = 0,
            U = 0,
            $ = 1,
            q = 0,
            Q = 0,
            Z = null,
            Y = re(e),
            X = "start",
            J = 0,
            G = {},
            ee = 0,
            te = 0,
            oe = 0,
            ie = 0,
            ne = 0,
            se = null,
            ae = null;
        try {
            Y.bind(_, t), Y.bind(K, n)
        } catch (e) {
            re.error("events not supported " + _ + "," + K + " on jQuery.swipe")
        }
        this.enable = function() {
            return this.disable(), Y.bind(_, t), Y.bind(K, n), Y
        }, this.disable = function() {
            return a(), Y
        }, this.destroy = function() {
            a(), Y.data(Ce, null), Y = null
        }, this.option = function(e, t) {
            if ("object" == typeof e) f = re.extend(f, e);
            else if (void 0 !== f[e]) {
                if (void 0 === t) return f[e];
                f[e] = t
            } else {
                if (!e) return f;
                re.error("Option " + e + " does not exist on jQuery.swipe.options")
            }
            return null
        }
    }
    var le = "left",
        pe = "right",
        de = "up",
        ce = "down",
        he = "in",
        ue = "out",
        ge = "none",
        fe = "auto",
        be = "swipe",
        me = "pinch",
        ke = "tap",
        we = "doubletap",
        ve = "longtap",
        Pe = "horizontal",
        Se = "vertical",
        Be = "all",
        xe = 10,
        Te = "start",
        Oe = "move",
        ye = "end",
        Me = "cancel",
        Le = "ontouchstart" in window,
        Ie = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !Le,
        Fe = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !Le,
        Ce = "TouchSwipe";
    re.fn.swipe = function(e) {
        var t = re(this),
            o = t.data(Ce);
        if (o && "string" == typeof e) {
            if (o[e]) return o[e].apply(o, Array.prototype.slice.call(arguments, 1));
            re.error("Method " + e + " does not exist on jQuery.swipe")
        } else if (o && "object" == typeof e) o.option.apply(o, arguments);
        else if (!(o || "object" != typeof e && e)) return function(o) {
            return !o || void 0 !== o.allowPageScroll || void 0 === o.swipe && void 0 === o.swipeStatus || (o.allowPageScroll = ge), void 0 !== o.click && void 0 === o.tap && (o.tap = o.click), o || (o = {}), o = re.extend({}, re.fn.swipe.defaults, o), this.each(function() {
                var e = re(this),
                    t = e.data(Ce);
                t || (t = new i(this, o), e.data(Ce, t))
            })
        }.apply(this, arguments);
        return t
    }, re.fn.swipe.version = "1.6.18", re.fn.swipe.defaults = {
        fingers: 1,
        threshold: 75,
        cancelThreshold: null,
        pinchThreshold: 20,
        maxTimeThreshold: null,
        fingerReleaseThreshold: 250,
        longTapThreshold: 500,
        doubleTapThreshold: 200,
        swipe: null,
        swipeLeft: null,
        swipeRight: null,
        swipeUp: null,
        swipeDown: null,
        swipeStatus: null,
        pinchIn: null,
        pinchOut: null,
        pinchStatus: null,
        click: null,
        tap: null,
        doubleTap: null,
        longTap: null,
        hold: null,
        triggerOnTouchEnd: !0,
        triggerOnTouchLeave: !1,
        allowPageScroll: "auto",
        fallbackToMouseEvents: !0,
        excludedElements: ".noSwipe",
        preventDefaultEvents: !0
    }, re.fn.swipe.phases = {
        PHASE_START: Te,
        PHASE_MOVE: Oe,
        PHASE_END: ye,
        PHASE_CANCEL: Me
    }, re.fn.swipe.directions = {
        LEFT: le,
        RIGHT: pe,
        UP: de,
        DOWN: ce,
        IN: he,
        OUT: ue
    }, re.fn.swipe.pageScroll = {
        NONE: ge,
        HORIZONTAL: Pe,
        VERTICAL: Se,
        AUTO: fe
    }, re.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        FOUR: 4,
        FIVE: 5,
        ALL: Be
    }
}),
function(e) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = e();
    else if ("function" == typeof define && define.amd) define([], e);
    else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Share = e()
    }
}(function() {
    var o;
    "classList" in document.documentElement || !Object.defineProperty || "undefined" == typeof HTMLElement || Object.defineProperty(HTMLElement.prototype, "classList", {
        get: function() {
            var e, n, t;
            return t = function(i) {
                return function(e) {
                    var t, o;
                    o = (t = n.className.split(/\s+/)).indexOf(e), i(t, o, e), n.className = t.join(" ")
                }
            }, n = this, e = {
                add: t(function(e, t, o) {
                    ~t || e.push(o)
                }),
                remove: t(function(e, t) {
                    ~t && e.splice(t, 1)
                }),
                toggle: t(function(e, t, o) {
                    ~t ? e.splice(t, 1) : e.push(o)
                }),
                contains: function(e) {
                    return !!~n.className.split(/\s+/).indexOf(e)
                },
                item: function(e) {
                    return n.className.split(/\s+/)[e] || null
                }
            }, Object.defineProperty(e, "length", {
                get: function() {
                    return n.className.split(/\s+/).length
                }
            }), e
        }
    }), String.prototype.to_rfc3986 = function() {
        return encodeURIComponent(this).replace(/[!'()*]/g, function(e) {
            return "%" + e.charCodeAt(0).toString(16)
        })
    }, o = function() {
        function e() {}
        return e.prototype.extend = function(e, t, o) {
            var i, n;
            for (n in t)(i = void 0 !== e[n]) && "object" == typeof t[n] ? this.extend(e[n], t[n], o) : (o || !i) && (e[n] = t[n])
        }, e.prototype.hide = function(e) {
            return e.style.display = "none"
        }, e.prototype.show = function(e) {
            return e.style.display = "block"
        }, e.prototype.has_class = function(e, t) {
            return e.classList.contains(t)
        }, e.prototype.add_class = function(e, t) {
            return e.classList.add(t)
        }, e.prototype.remove_class = function(e, t) {
            return e.classList.remove(t)
        }, e.prototype.is_encoded = function(e) {
            return e = e.to_rfc3986(), decodeURIComponent(e) !== e
        }, e.prototype.encode = function(e) {
            return void 0 === e || this.is_encoded(e) ? e : e.to_rfc3986()
        }, e.prototype.popup = function(e, t) {
            var o, i, n, s;
            return null == t && (t = {}), (i = {
                width: 500,
                height: 350
            }).top = screen.height / 2 - i.height / 2, i.left = screen.width / 2 - i.width / 2, (n = function() {
                var e;
                for (o in e = [], t) s = t[o], e.push(o + "=" + this.encode(s));
                return e
            }.call(this).join("&")) && (n = "?" + n), window.open(e + n, "targetWindow", "toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left=" + i.left + ",top=" + i.top + ",width=" + i.width + ",height=" + i.height)
        }, e
    }();
    var n = {}.hasOwnProperty;
    return function(e) {
        function t(e, t) {
            return this.element = e, this.el = {
                head: document.getElementsByTagName("head")[0],
                body: document.getElementsByTagName("body")[0]
            }, this.config = {
                enabled_networks: 0,
                protocol: -1 === ["http", "https"].indexOf(window.location.href.split(":")[0]) ? "https://" : "//",
                url: window.location.href,
                caption: null,
                title: this.default_title(),
                image: this.default_image(),
                description: this.default_description(),
                ui: {
                    flyout: "top center",
                    button_text: "Share",
                    button_font: !0,
                    icon_font: !0
                },
                networks: {
                    google_plus: {
                        enabled: !0,
                        url: null
                    },
                    twitter: {
                        enabled: !0,
                        url: null,
                        description: null
                    },
                    facebook: {
                        enabled: !0,
                        load_sdk: !0,
                        url: null,
                        app_id: null,
                        title: null,
                        caption: null,
                        description: null,
                        image: null
                    },
                    pinterest: {
                        enabled: !0,
                        url: null,
                        image: null,
                        description: null
                    },
                    email: {
                        enabled: !0,
                        title: null,
                        description: null
                    }
                }
            }, this.setup(this.element, t), this
        }
        return function(e, t) {
            function o() {
                this.constructor = e
            }
            for (var i in t) n.call(t, i) && (e[i] = t[i]);
            o.prototype = t.prototype, e.prototype = new o, e.__super__ = t.prototype
        }(t, o), t.prototype.setup = function(e, t) {
            var o, i, n, s;
            for (n = [e], this.extend(this.config, t, !0), this.set_global_configuration(), this.normalize_network_configuration(), this.config.networks.facebook.enabled && this.config.networks.facebook.load_sdk && this.inject_facebook_sdk(), i = o = 0, s = n.length; o < s; i = ++o) n[i], this.setup_instance(e, i)
        }, t.prototype.setup_instance = function(e, t) {
            var o, i, n, s, a, r, l, p;
            for (s = e, this.add_class(s, "sharer-" + t), this.inject_html(s), document.getElementById("flipbook-share-facebook").style.display = this.config.networks.facebook.display, document.getElementById("flipbook-share-twitter").style.display = this.config.networks.twitter.display, document.getElementById("flipbook-share-pinterest").style.display = this.config.networks.pinterest.display, document.getElementById("flipbook-share-email").style.display = this.config.networks.email.display, document.getElementById("flipbook-share-google_plus").style.display = this.config.networks.google_plus.display, s.getElementsByTagName("label")[0], i = s.getElementsByClassName("social")[0], l = s.getElementsByTagName("li"), this.add_class(i, "networks-" + this.config.enabled_networks), s.addEventListener("click", function(e) {
                    return function() {
                        return e.event_toggle(i)
                    }
                }(this)), o = this, p = [], t = n = 0, a = l.length; n < a; t = ++n) r = l[t], p.push(r.addEventListener("click", function() {
                return o.event_network(s, this), o.event_close(i)
            }));
            return p
        }, t.prototype.event_toggle = function(e) {
            return this.has_class(e, "active") ? this.event_close(e) : this.event_open(e)
        }, t.prototype.event_open = function(e) {
            return this.has_class(e, "load") && this.remove_class(e, "load"), this.add_class(e, "active")
        }, t.prototype.event_close = function(e) {
            return this.remove_class(e, "active")
        }, t.prototype.event_network = function(e, t) {
            var o;
            return o = t.getAttribute("data-network"), this.hook("before", o, e), this["network_" + o](), this.hook("after", o, e)
        }, t.prototype.open = function() {
            return this.public("open")
        }, t.prototype.close = function() {
            return this.public("close")
        }, t.prototype.toggle = function() {
            return this.public("toggle")
        }, t.prototype.public = function(e) {
            var t, o, i, n, s, a;
            for (a = [], i = o = 0, n = (s = document.querySelectorAll(this.element)).length; o < n; i = ++o) t = s[i].getElementsByClassName("social")[0], a.push(this["event_" + e](t));
            return a
        }, t.prototype.network_facebook = function() {
            return this.config.networks.facebook.load_sdk ? window.FB ? FB.ui({
                method: "feed",
                name: this.config.networks.facebook.title,
                link: this.config.networks.facebook.url,
                picture: this.config.networks.facebook.image,
                caption: this.config.networks.facebook.caption,
                description: this.config.networks.facebook.description
            }) : console.error("The Facebook JS SDK hasn't loaded yet.") : this.popup("https://www.facebook.com/sharer/sharer.php", {
                u: this.config.networks.facebook.url
            })
        }, t.prototype.network_twitter = function() {
            return this.popup("https://twitter.com/intent/tweet", {
                text: this.config.networks.twitter.description,
                url: this.config.networks.twitter.url
            })
        }, t.prototype.network_google_plus = function() {
            return this.popup("https://plus.google.com/share", {
                url: this.config.networks.google_plus.url
            })
        }, t.prototype.network_pinterest = function() {
            return this.popup("https://www.pinterest.com/pin/create/button", {
                url: this.config.networks.pinterest.url,
                media: this.config.networks.pinterest.image,
                description: this.config.networks.pinterest.description
            })
        }, t.prototype.network_email = function() {
            return this.popup("mailto:", {
                subject: this.config.networks.email.title,
                body: this.config.networks.email.description + "%0D%0A" + this.config.url
            })
        }, t.prototype.inject_stylesheet = function(e) {
            var t;
            return this.el.head.querySelector('link[href="' + e + '"]') ? void 0 : ((t = document.createElement("link")).setAttribute("rel", "stylesheet"), t.setAttribute("href", e), this.el.head.appendChild(t))
        }, t.prototype.inject_html = function(e) {
            return e.innerHTML = "<div class='social load " + this.config.ui.flyout + "'><ul><li id='flipbook-share-pinterest' class='fab fa-pinterest-p skin-color' data-network='pinterest'></li><li id='flipbook-share-twitter' class='fab fa-twitter skin-color' data-network='twitter'></li><li id='flipbook-share-facebook' class='fab fa-facebook-f skin-color' data-network='facebook'></li><li id='flipbook-share-google_plus' class='fab fa-google-plus-g skin-color' data-network='google_plus'></li><li id='flipbook-share-email' class='fas fa-at skin-color' data-network='email'></li></ul></div>"
        }, t.prototype.inject_facebook_sdk = function() {
            var e, t;
            return window.FB || !this.config.networks.facebook.app_id || this.el.body.querySelector("#fb-root") ? void 0 : ((t = document.createElement("script")).text = "window.fbAsyncInit=function(){FB.init({appId:'" + this.config.networks.facebook.app_id + "',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='" + this.config.protocol + "connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')", (e = document.createElement("div")).id = "fb-root", this.el.body.appendChild(e), this.el.body.appendChild(t))
        }, t.prototype.hook = function(e, t, o) {
            var i, n;
            "function" == typeof(i = this.config.networks[t][e]) && (void 0 !== (n = i.call(this.config.networks[t], o)) && (n = this.normalize_filter_config_updates(n), this.extend(this.config.networks[t], n, !0), this.normalize_network_configuration()))
        }, t.prototype.default_title = function() {
            var e;
            return (e = document.querySelector('meta[property="og:title"]') || document.querySelector('meta[name="twitter:title"]')) ? e.getAttribute("content") : (e = document.querySelector("title")) ? e.innerText : void 0
        }, t.prototype.default_image = function() {
            var e;
            return (e = document.querySelector('meta[property="og:image"]') || document.querySelector('meta[name="twitter:image"]')) ? e.getAttribute("content") : void 0
        }, t.prototype.default_description = function() {
            var e;
            return (e = document.querySelector('meta[property="og:description"]') || document.querySelector('meta[name="twitter:description"]') || document.querySelector('meta[name="description"]')) ? e.getAttribute("content") : ""
        }, t.prototype.set_global_configuration = function() {
            var e, t, o, i, n;
            for (t in n = [], i = this.config.networks) {
                for (o in i[t]) null == this.config.networks[t][o] && (this.config.networks[t][o] = this.config[o]);
                this.config.networks[t].enabled ? (e = "block", this.config.enabled_networks += 1) : e = "none", n.push(this.config.networks[t].display = e)
            }
            return n
        }, t.prototype.normalize_network_configuration = function() {
            return this.config.networks.facebook.app_id || (this.config.networks.facebook.load_sdk = !1), this.is_encoded(this.config.networks.twitter.description) || (this.config.networks.twitter.description = encodeURIComponent(this.config.networks.twitter.description)), "number" == typeof this.config.networks.facebook.app_id ? this.config.networks.facebook.app_id = this.config.networks.facebook.app_id.toString() : void 0
        }, t.prototype.normalize_filter_config_updates = function(e) {
            return this.config.networks.facebook.app_id !== e.app_id && (console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."), delete e.app_id), this.config.networks.facebook.load_sdk !== e.load_sdk && (console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."), delete e.app_id), e
        }, t
    }()
});